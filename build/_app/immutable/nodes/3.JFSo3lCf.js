import{s as _,o as y}from"../chunks/scheduler.BDfStAzi.js";import{S as M,i as h,c as u,s as k,a as p,b as v,m as l,d as S,t as $,e as w,f as b,g}from"../chunks/index.CFbGN5lA.js";import{M as B,a as L,l as q}from"../chunks/Menu.RR0KVo4p.js";function D(i){let n,o,s,a;return n=new B({props:{preloadFont:i[1]}}),s=new L({props:{web:!1,items:i[0]}}),{c(){u(n.$$.fragment),o=k(),u(s.$$.fragment)},l(e){p(n.$$.fragment,e),o=v(e),p(s.$$.fragment,e)},m(e,r){l(n,e,r),S(e,o,r),l(s,e,r),a=!0},p(e,[r]){const t={};r&1&&(t.items=e[0]),s.$set(t)},i(e){a||($(n.$$.fragment,e),$(s.$$.fragment,e),a=!0)},o(e){w(n.$$.fragment,e),w(s.$$.fragment,e),a=!1},d(e){e&&b(o),g(n,e),g(s,e)}}}async function F(){try{"wakeLock"in navigator&&await navigator.wakeLock.request("screen")}catch(i){console.log(i)}}function x(i,n,o){let s,a=[];const e=["../assets/fonts/LondrinaSolid-Black.woff2","../assets/fonts/SometypeMono-Medium.woff2","../assets/fonts/SometypeMono-Bold.woff2"];async function r(){try{const{data:t,backup:C,error:E}=await q();if(t!=null&&t.items){s=t.updated;const m=new Date().getHours(),d=new Date().getMinutes(),f=m<15||m===15&&d<30?"brunch":"dinner";o(0,a=t.items.filter(c=>c.item&&c.service===f)),a.length||o(0,a=t.items.filter(c=>c.item&&c.service!==f))}else throw new Error("no data")}catch(t){error=t==null?void 0:t.message}finally{}}return y(async()=>{await F(),await r()}),[a,e]}class A extends M{constructor(n){super(),h(this,n,x,D,_,{})}}export{A as component};
