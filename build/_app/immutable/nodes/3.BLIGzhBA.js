import{s as h,o as k,b as S}from"../chunks/scheduler.37zBBjGX.js";import{S as B,i as C,c as d,s as F,a as $,b as T,m as _,d as q,t as w,e as g,f as v,g as M}from"../chunks/index.DLdBAJEO.js";import{M as D,l as E}from"../chunks/Menu.BEJhjOFR.js";import{M as H}from"../chunks/transform._25s7wtN.js";function L(i){let n,a,t,r;n=new H({props:{preloadFont:i[2],hide:!0}});let m={web:!1,items:i[0],drinks:!0};return t=new D({props:m}),i[3](t),{c(){d(n.$$.fragment),a=F(),d(t.$$.fragment)},l(e){$(n.$$.fragment,e),a=T(e),$(t.$$.fragment,e)},m(e,s){_(n,e,s),q(e,a,s),_(t,e,s),r=!0},p(e,[s]){const f={};s&1&&(f.items=e[0]),t.$set(f)},i(e){r||(w(n.$$.fragment,e),w(t.$$.fragment,e),r=!0)},o(e){g(n.$$.fragment,e),g(t.$$.fragment,e),r=!1},d(e){e&&v(a),M(n,e),i[3](null),M(t,e)}}}function P(i,n,a){let t,r=[],m;const e=["../assets/fonts/LondrinaSolid-Black.woff2","../assets/fonts/SometypeMono-Medium.woff2","../assets/fonts/SometypeMono-Bold.woff2"];async function s(u){try{const{data:o,backup:j,error:z}=await E();if(o!=null&&o.items){t=o.updated;const y="drinks";a(0,r=o.items.filter(l=>l.name&&l.service===y));const c=new Date,p=c.getHours(),b=c.getMinutes();!u&&(p===10||p===16)&&b===0?window.location.reload():setTimeout(s,3e4)}else throw new Error("no data")}catch(o){error=o==null?void 0:o.message}finally{setTimeout(s,3e4)}}k(async()=>{await s(!0)});function f(u){S[u?"unshift":"push"](()=>{m=u,a(1,m)})}return[r,m,e,f]}class K extends B{constructor(n){super(),C(this,n,P,L,h,{})}}export{K as component};
