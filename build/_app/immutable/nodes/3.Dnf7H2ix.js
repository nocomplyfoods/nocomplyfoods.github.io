import{g as X,s as Y,n as A,o as B}from"../chunks/scheduler.DvZl6ULp.js";import{S as Z,i as x,e as w,c as E,a as z,d as p,h as b,j as F,f as S,t as y,k as j,b as M,l as T,g as u,s as N,m as G,H as U,n as W}from"../chunks/index.CJ4NcMIA.js";import{e as O}from"../chunks/each.D6YF6ztN.js";import{p as ee}from"../chunks/stores.Crdr__8u.js";function te(c){const l=X(ee).url.search.split("&").find(i=>i.includes(`${c}=`));if(l)return l.split("=")[1]}function J(c,s,e){const l=c.slice();return l[11]=s[e].item,l[12]=s[e].price,l}function K(c,s,e){const l=c.slice();return l[11]=s[e].item,l[15]=s[e].detail,l[12]=s[e].price,l}function L(c){let s,e,l,i,_,P,n,d,D,I=c[3]?` $${c[4]}`:"",g,v,f,h=O(c[1]),r=[];for(let t=0;t<h.length;t+=1)r[t]=Q(K(c,h,t));let V=O(c[2]),o=[];for(let t=0;t<V.length;t+=1)o[t]=R(J(c,V,t));return{c(){s=w("p"),e=y(c[5]),l=j(),i=w("section"),_=w("div");for(let t=0;t<r.length;t+=1)r[t].c();P=j(),n=w("section"),d=w("p"),D=y("Sides"),g=y(I),v=j(),f=w("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=E(t,"P",{class:!0});var m=z(s);e=M(m,c[5]),m.forEach(p),l=T(t),i=E(t,"SECTION",{class:!0});var a=z(i);_=E(a,"DIV",{class:!0});var k=z(_);for(let H=0;H<r.length;H+=1)r[H].l(k);k.forEach(p),a.forEach(p),P=T(t),n=E(t,"SECTION",{class:!0});var $=z(n);d=E($,"P",{class:!0});var C=z(d);D=M(C,"Sides"),g=M(C,I),C.forEach(p),v=T($),f=E($,"DIV",{class:!0});var q=z(f);for(let H=0;H<o.length;H+=1)o[H].l(q);q.forEach(p),$.forEach(p),this.h()},h(){b(s,"class","updated svelte-sftozw"),b(_,"class","items svelte-sftozw"),b(i,"class","mains svelte-sftozw"),b(d,"class","title svelte-sftozw"),b(f,"class","items svelte-sftozw"),b(n,"class","sides svelte-sftozw")},m(t,m){S(t,s,m),u(s,e),S(t,l,m),S(t,i,m),u(i,_);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(_,null);S(t,P,m),S(t,n,m),u(n,d),u(d,D),u(d,g),u(n,v),u(n,f);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(f,null)},p(t,m){if(m&32&&N(e,t[5]),m&2){h=O(t[1]);let a;for(a=0;a<h.length;a+=1){const k=K(t,h,a);r[a]?r[a].p(k,m):(r[a]=Q(k),r[a].c(),r[a].m(_,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=h.length}if(m&24&&I!==(I=t[3]?` $${t[4]}`:"")&&N(g,I),m&12){V=O(t[2]);let a;for(a=0;a<V.length;a+=1){const k=J(t,V,a);o[a]?o[a].p(k,m):(o[a]=R(k),o[a].c(),o[a].m(f,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=V.length}},d(t){t&&(p(s),p(l),p(i),p(P),p(n)),G(r,t),G(o,t)}}}function Q(c){let s,e,l,i=c[11]+"",_,P,n,d,D=(c[15]||"&nbsp;")+"",I,g,v,f,h=c[12]+"",r,V;return{c(){s=w("div"),e=w("div"),l=w("p"),_=y(i),P=j(),n=w("p"),d=new U(!1),I=j(),g=w("div"),v=w("p"),f=y("$"),r=y(h),V=j(),this.h()},l(o){s=E(o,"DIV",{class:!0});var t=z(s);e=E(t,"DIV",{class:!0});var m=z(e);l=E(m,"P",{class:!0});var a=z(l);_=M(a,i),a.forEach(p),P=T(m),n=E(m,"P",{class:!0});var k=z(n);d=W(k,!1),k.forEach(p),m.forEach(p),I=T(t),g=E(t,"DIV",{class:!0});var $=z(g);v=E($,"P",{class:!0});var C=z(v);f=M(C,"$"),r=M(C,h),C.forEach(p),$.forEach(p),V=T(t),t.forEach(p),this.h()},h(){b(l,"class","name svelte-sftozw"),d.a=null,b(n,"class","detail svelte-sftozw"),b(e,"class","text svelte-sftozw"),b(v,"class","price svelte-sftozw"),b(g,"class","amount"),b(s,"class","item svelte-sftozw")},m(o,t){S(o,s,t),u(s,e),u(e,l),u(l,_),u(e,P),u(e,n),d.m(D,n),u(s,I),u(s,g),u(g,v),u(v,f),u(v,r),u(s,V)},p(o,t){t&2&&i!==(i=o[11]+"")&&N(_,i),t&2&&D!==(D=(o[15]||"&nbsp;")+"")&&d.p(D),t&2&&h!==(h=o[12]+"")&&N(r,h)},d(o){o&&p(s)}}}function R(c){let s,e,l,i=c[11]+"",_,P,n,d,D,I=c[3]?"&nbsp;":`$${c[12]}`,g;return{c(){s=w("div"),e=w("div"),l=w("p"),_=y(i),P=j(),n=w("div"),d=w("p"),D=new U(!1),g=j(),this.h()},l(v){s=E(v,"DIV",{class:!0});var f=z(s);e=E(f,"DIV",{class:!0});var h=z(e);l=E(h,"P",{class:!0});var r=z(l);_=M(r,i),r.forEach(p),h.forEach(p),P=T(f),n=E(f,"DIV",{class:!0});var V=z(n);d=E(V,"P",{class:!0});var o=z(d);D=W(o,!1),o.forEach(p),V.forEach(p),g=T(f),f.forEach(p),this.h()},h(){b(l,"class","name svelte-sftozw"),b(e,"class","text svelte-sftozw"),D.a=null,b(d,"class","price svelte-sftozw"),b(n,"class","amount"),b(s,"class","item svelte-sftozw")},m(v,f){S(v,s,f),u(s,e),u(e,l),u(l,_),u(s,P),u(s,n),u(n,d),D.m(I,d),u(s,g)},p(v,f){f&4&&i!==(i=v[11]+"")&&N(_,i),f&12&&I!==(I=v[3]?"&nbsp;":`$${v[12]}`)&&D.p(I)},d(v){v&&p(s)}}}function se(c){let s,e=c[0]&&L(c);return{c(){s=w("div"),e&&e.c(),this.h()},l(l){s=E(l,"DIV",{class:!0});var i=z(s);e&&e.l(i),i.forEach(p),this.h()},h(){b(s,"class","c svelte-sftozw"),F(s,"split",c[6])},m(l,i){S(l,s,i),e&&e.m(s,null)},p(l,[i]){l[0]?e?e.p(l,i):(e=L(l),e.c(),e.m(s,null)):e&&(e.d(1),e=null),i&64&&F(s,"split",l[6])},i:A,o:A,d(l){l&&p(s),e&&e.d()}}}function le(c,s,e){let l,i=[],_=[],P=!1,n,d,D;B(()=>{});async function I(){try{const v=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),f=v.items.filter(h=>h.price&&h.item);e(0,l=f.length>0),e(1,i=f.filter(h=>h.section==="main")),i.sort((h,r)=>r.price-h.price),e(2,_=f.filter(h=>h.section==="side")),e(4,n=_[0].price),e(3,P=_.every(h=>h.price===n)),e(5,d=v.updated)}catch(g){console.log(g)}finally{setTimeout(I,6e4)}}return B(async()=>{e(6,D=te("split")),await I()}),[l,i,_,P,n,d,D]}class ne extends Z{constructor(s){super(),x(this,s,le,se,Y,{})}}export{ne as component};
