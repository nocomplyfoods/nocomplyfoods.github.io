import{s as de,k as pe,r as ve,o as me,n as ge}from"../chunks/scheduler.BDfStAzi.js";import{S as be,i as Ce,c as Ee,s as I,h as T,a as je,b as L,k,l as O,A as q,f as b,u as w,B as H,m as Te,d as B,o as j,C as te,D as J,t as ke,e as we,g as ye,v as Y,j as K,n as X,E as ne,p as $,F as De,x as Oe}from"../chunks/index.AEsMBDcT.js";import{M as Ae,e as U}from"../chunks/transform.Dh928dr6.js";var le={},Q={},W=34,V=10,G=13;function _e(l){return new Function("d","return {"+l.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Ne(l,e){var n=_e(l);return function(t,o){return e(n(t),o,l)}}function oe(l){var e=Object.create(null),n=[];return l.forEach(function(t){for(var o in t)o in e||n.push(e[o]=o)}),n}function y(l,e){var n=l+"",t=n.length;return t<e?new Array(e-t+1).join(0)+n:n}function Se(l){return l<0?"-"+y(-l,6):l>9999?"+"+y(l,6):y(l,4)}function ze(l){var e=l.getUTCHours(),n=l.getUTCMinutes(),t=l.getUTCSeconds(),o=l.getUTCMilliseconds();return isNaN(l)?"Invalid Date":Se(l.getUTCFullYear())+"-"+y(l.getUTCMonth()+1,2)+"-"+y(l.getUTCDate(),2)+(o?"T"+y(e,2)+":"+y(n,2)+":"+y(t,2)+"."+y(o,3)+"Z":t?"T"+y(e,2)+":"+y(n,2)+":"+y(t,2)+"Z":n||e?"T"+y(e,2)+":"+y(n,2)+"Z":"")}function Re(l){var e=new RegExp('["'+l+`
\r]`),n=l.charCodeAt(0);function t(c,r){var v,p,i=o(c,function(D,C){if(v)return v(D,C-1);p=D,v=r?Ne(D,r):_e(D)});return i.columns=p||[],i}function o(c,r){var v=[],p=c.length,i=0,D=0,C,A=p<=0,z=!1;c.charCodeAt(p-1)===V&&--p,c.charCodeAt(p-1)===G&&--p;function P(){if(A)return Q;if(z)return z=!1,le;var m,M=i,R;if(c.charCodeAt(M)===W){for(;i++<p&&c.charCodeAt(i)!==W||c.charCodeAt(++i)===W;);return(m=i)>=p?A=!0:(R=c.charCodeAt(i++))===V?z=!0:R===G&&(z=!0,c.charCodeAt(i)===V&&++i),c.slice(M+1,m-1).replace(/""/g,'"')}for(;i<p;){if((R=c.charCodeAt(m=i++))===V)z=!0;else if(R===G)z=!0,c.charCodeAt(i)===V&&++i;else if(R!==n)continue;return c.slice(M,m)}return A=!0,c.slice(M,p)}for(;(C=P())!==Q;){for(var N=[];C!==le&&C!==Q;)N.push(C),C=P();r&&(N=r(N,D++))==null||v.push(N)}return v}function s(c,r){return c.map(function(v){return r.map(function(p){return f(v[p])}).join(l)})}function _(c,r){return r==null&&(r=oe(c)),[r.map(f).join(l)].concat(s(c,r)).join(`
`)}function a(c,r){return r==null&&(r=oe(c)),s(c,r).join(`
`)}function d(c){return c.map(u).join(`
`)}function u(c){return c.map(f).join(l)}function f(c){return c==null?"":c instanceof Date?ze(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:t,parseRows:o,format:_,formatBody:a,formatRows:d,formatRow:u,formatValue:f}}var Ue=Re(","),Be=Ue.parse;async function Me(l){let e,n;try{e=await(await fetch(`https://data.nocomplyfoods.com/archive/index.json?version=${Date.now()}`)).json(),hasData||(n="no data")}catch(t){n=t==null?void 0:t.message}finally{return{data:e,error:n}}}async function Fe(l){const n=await(await fetch(l)).text();return Be(n)}function re(l,e,n){const t=l.slice();return t[12]=e[n],t}function se(l,e,n){const t=l.slice();return t[15]=e[n],t}function ae(l,e,n){const t=l.slice();return t[18]=e[n],t}function ce(l,e,n){const t=l.slice();t[21]=e[n];const o=t[21].replace(`archive/${t[0]}/`,"").replace(".csv","");return t[22]=o,t}function ie(l){let e,n=l[22]+"",t,o;return{c(){e=T("option"),t=K(n),this.h()},l(s){e=k(s,"OPTION",{});var _=O(e);t=X(_,n),_.forEach(b),this.h()},h(){e.__value=o=l[21],ne(e,e.__value)},m(s,_){B(s,e,_),j(e,t)},p(s,_){_&9&&n!==(n=s[22]+"")&&$(t,n),_&8&&o!==(o=s[21])&&(e.__value=o,ne(e,e.__value))},d(s){s&&b(e)}}}function Ie(l){let e,n="Loading archival menus...";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=k(t,"P",{style:!0,"data-svelte-h":!0}),q(e)!=="svelte-cqqiz7"&&(e.textContent=n),this.h()},h(){Oe(e,"text-align","center")},m(t,o){B(t,e,o)},p:ge,d(t){t&&b(e)}}}function Le(l){let e,n,t,o,s,_=U(Object.keys(l[2][0])),a=[];for(let f=0;f<_.length;f+=1)a[f]=fe(ae(l,_,f));let d=U(l[2]),u=[];for(let f=0;f<d.length;f+=1)u[f]=ue(re(l,d,f));return{c(){e=T("table"),n=T("thead"),t=T("tr");for(let f=0;f<a.length;f+=1)a[f].c();o=I(),s=T("tbody");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=k(f,"TABLE",{class:!0});var c=O(e);n=k(c,"THEAD",{});var r=O(n);t=k(r,"TR",{class:!0});var v=O(t);for(let i=0;i<a.length;i+=1)a[i].l(v);v.forEach(b),r.forEach(b),o=L(c),s=k(c,"TBODY",{});var p=O(s);for(let i=0;i<u.length;i+=1)u[i].l(p);p.forEach(b),c.forEach(b),this.h()},h(){w(t,"class","svelte-zhf3jp"),w(e,"class","svelte-zhf3jp")},m(f,c){B(f,e,c),j(e,n),j(n,t);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null);j(e,o),j(e,s);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(s,null)},p(f,c){if(c&4){_=U(Object.keys(f[2][0]));let r;for(r=0;r<_.length;r+=1){const v=ae(f,_,r);a[r]?a[r].p(v,c):(a[r]=fe(v),a[r].c(),a[r].m(t,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=_.length}if(c&4){d=U(f[2]);let r;for(r=0;r<d.length;r+=1){const v=re(f,d,r);u[r]?u[r].p(v,c):(u[r]=ue(v),u[r].c(),u[r].m(s,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=d.length}},d(f){f&&b(e),Y(a,f),Y(u,f)}}}function fe(l){let e,n=l[18]+"",t;return{c(){e=T("th"),t=K(n),this.h()},l(o){e=k(o,"TH",{class:!0});var s=O(e);t=X(s,n),s.forEach(b),this.h()},h(){w(e,"class","svelte-zhf3jp")},m(o,s){B(o,e,s),j(e,t)},p(o,s){s&4&&n!==(n=o[18]+"")&&$(t,n)},d(o){o&&b(e)}}}function he(l){let e,n=l[15]+"",t;return{c(){e=T("td"),t=K(n),this.h()},l(o){e=k(o,"TD",{class:!0});var s=O(e);t=X(s,n),s.forEach(b),this.h()},h(){w(e,"class","svelte-zhf3jp")},m(o,s){B(o,e,s),j(e,t)},p(o,s){s&4&&n!==(n=o[15]+"")&&$(t,n)},d(o){o&&b(e)}}}function ue(l){let e,n,t=U(Object.values(l[12])),o=[];for(let s=0;s<t.length;s+=1)o[s]=he(se(l,t,s));return{c(){e=T("tr");for(let s=0;s<o.length;s+=1)o[s].c();n=I(),this.h()},l(s){e=k(s,"TR",{class:!0});var _=O(e);for(let a=0;a<o.length;a+=1)o[a].l(_);n=L(_),_.forEach(b),this.h()},h(){w(e,"class","svelte-zhf3jp")},m(s,_){B(s,e,_);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);j(e,n)},p(s,_){if(_&4){t=U(Object.values(s[12]));let a;for(a=0;a<t.length;a+=1){const d=se(s,t,a);o[a]?o[a].p(d,_):(o[a]=he(d),o[a].c(),o[a].m(e,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=t.length}},d(s){s&&b(e),Y(o,s)}}}function He(l){let e,n,t,o,s="No Comply Foods Archive",_,a,d,u,f="Brunch",c,r,v="Dinner",p,i,D,C,A,z,P;e=new Ae({props:{preloadFont:l[4],hide:!0}});let N=U(l[3]),m=[];for(let h=0;h<N.length;h+=1)m[h]=ie(ce(l,N,h));function M(h,E){return h[2].length?Le:Ie}let R=M(l),S=R(l);return{c(){Ee(e.$$.fragment),n=I(),t=T("div"),o=T("h1"),o.textContent=s,_=I(),a=T("section"),d=T("div"),u=T("button"),u.textContent=f,c=I(),r=T("button"),r.textContent=v,p=I(),i=T("select");for(let h=0;h<m.length;h+=1)m[h].c();D=I(),C=T("section"),S.c(),this.h()},l(h){je(e.$$.fragment,h),n=L(h),t=k(h,"DIV",{class:!0});var E=O(t);o=k(E,"H1",{class:!0,"data-svelte-h":!0}),q(o)!=="svelte-izxn1w"&&(o.textContent=s),_=L(E),a=k(E,"SECTION",{id:!0,class:!0});var g=O(a);d=k(g,"DIV",{class:!0});var F=O(d);u=k(F,"BUTTON",{class:!0,"data-svelte-h":!0}),q(u)!=="svelte-1wb50su"&&(u.textContent=f),c=L(F),r=k(F,"BUTTON",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1ycds4y"&&(r.textContent=v),F.forEach(b),p=L(g),i=k(g,"SELECT",{class:!0});var x=O(i);for(let Z=0;Z<m.length;Z+=1)m[Z].l(x);x.forEach(b),g.forEach(b),D=L(E),C=k(E,"SECTION",{id:!0,class:!0});var ee=O(C);S.l(ee),ee.forEach(b),E.forEach(b),this.h()},h(){w(o,"class","svelte-zhf3jp"),w(u,"class","svelte-zhf3jp"),H(u,"active",l[0]==="brunch"),w(r,"class","svelte-zhf3jp"),H(r,"active",l[0]==="dinner"),w(d,"class","service-selector"),w(i,"class","svelte-zhf3jp"),l[1]===void 0&&pe(()=>l[10].call(i)),w(a,"id","ui"),w(a,"class","svelte-zhf3jp"),H(a,"visible",l[2].length),w(C,"id","menu"),w(C,"class","svelte-zhf3jp"),w(t,"class","c")},m(h,E){Te(e,h,E),B(h,n,E),B(h,t,E),j(t,o),j(t,_),j(t,a),j(a,d),j(d,u),j(d,c),j(d,r),j(a,p),j(a,i);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(i,null);te(i,l[1],!0),j(t,D),j(t,C),S.m(C,null),A=!0,z||(P=[J(u,"click",l[8]),J(r,"click",l[9]),J(i,"change",l[10])],z=!0)},p(h,[E]){if((!A||E&1)&&H(u,"active",h[0]==="brunch"),(!A||E&1)&&H(r,"active",h[0]==="dinner"),E&9){N=U(h[3]);let g;for(g=0;g<N.length;g+=1){const F=ce(h,N,g);m[g]?m[g].p(F,E):(m[g]=ie(F),m[g].c(),m[g].m(i,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=N.length}E&10&&te(i,h[1]),(!A||E&4)&&H(a,"visible",h[2].length),R===(R=M(h))&&S?S.p(h,E):(S.d(1),S=R(h),S&&(S.c(),S.m(C,null)))},i(h){A||(ke(e.$$.fragment,h),A=!0)},o(h){we(e.$$.fragment,h),A=!1},d(h){h&&(b(n),b(t)),ye(e,h),Y(m,h),S.d(),z=!1,ve(P)}}}function Pe(l,e,n){let t,o=[],s=[],_=[],a="brunch",d;const u=["../assets/fonts/LondrinaSolid-Black.woff2","../assets/fonts/SometypeMono-Medium.woff2","../assets/fonts/SometypeMono-Bold.woff2"];async function f(){const i=`https://data.nocomplyfoods.com/${d}`,D=await Fe(i);D.forEach(C=>{delete C.type,delete C.service}),n(2,_=[...D])}function c(i){n(0,a=i),i==="brunch"&&o.length>0?n(1,d=o[0]):i==="dinner"&&s.length>0&&n(1,d=s[0])}me(async()=>{try{const{data:i}=await Me();if(i)n(6,o=i.brunch),n(7,s=i.dinner),c("brunch");else throw new Error("No data loaded from archive.")}catch(i){console.error("Failed to load archive:",i)}});const r=()=>c("brunch"),v=()=>c("dinner");function p(){d=De(this),n(1,d),n(3,t),n(0,a),n(6,o),n(7,s)}return l.$$.update=()=>{l.$$.dirty&193&&n(3,t=a==="brunch"?o:s),l.$$.dirty&2&&d&&f()},[a,d,_,t,u,c,o,s,r,v,p]}class Ze extends be{constructor(e){super(),Ce(this,e,Pe,He,de,{})}}export{Ze as component};
