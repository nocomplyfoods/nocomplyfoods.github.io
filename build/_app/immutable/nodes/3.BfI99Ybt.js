import{g as X,s as Y,n as A,o as B}from"../chunks/scheduler.DvZl6ULp.js";import{S as Z,i as x,e as b,c as g,a as E,d,h as D,j as F,f as S,t as M,k as j,b as N,l as T,g as p,s as O,m as G,H as U,n as W}from"../chunks/index.CJ4NcMIA.js";import{e as q}from"../chunks/each.D6YF6ztN.js";import{p as ee}from"../chunks/stores.BRpxuSED.js";function te(n){const l=X(ee).url.search.split("&").find(i=>i.includes(`${n}=`));if(l)return l.split("=")[1]}function J(n,s,e){const l=n.slice();return l[11]=s[e].item,l[12]=s[e].price,l}function K(n,s,e){const l=n.slice();return l[11]=s[e].item,l[15]=s[e].detail,l[12]=s[e].price,l}function L(n){let s,e,l,i,_,V,r,v,I,P=n[3]?` $${n[4]}`:"",y,u,h,f=q(n[1]),o=[];for(let t=0;t<f.length;t+=1)o[t]=Q(K(n,f,t));let k=q(n[2]),c=[];for(let t=0;t<k.length;t+=1)c[t]=R(J(n,k,t));return{c(){s=b("p"),e=M(n[5]),l=j(),i=b("section"),_=b("div");for(let t=0;t<o.length;t+=1)o[t].c();V=j(),r=b("section"),v=b("p"),I=M("Sides"),y=M(P),u=j(),h=b("div");for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){s=g(t,"P",{class:!0});var m=E(s);e=N(m,n[5]),m.forEach(d),l=T(t),i=g(t,"SECTION",{class:!0});var a=E(i);_=g(a,"DIV",{class:!0});var w=E(_);for(let H=0;H<o.length;H+=1)o[H].l(w);w.forEach(d),a.forEach(d),V=T(t),r=g(t,"SECTION",{class:!0});var $=E(r);v=g($,"P",{class:!0});var C=E(v);I=N(C,"Sides"),y=N(C,P),C.forEach(d),u=T($),h=g($,"DIV",{class:!0});var z=E(h);for(let H=0;H<c.length;H+=1)c[H].l(z);z.forEach(d),$.forEach(d),this.h()},h(){D(s,"class","updated svelte-1hdbyy3"),D(_,"class","items svelte-1hdbyy3"),D(i,"class","mains svelte-1hdbyy3"),D(v,"class","title svelte-1hdbyy3"),D(h,"class","items svelte-1hdbyy3"),D(r,"class","sides svelte-1hdbyy3")},m(t,m){S(t,s,m),p(s,e),S(t,l,m),S(t,i,m),p(i,_);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(_,null);S(t,V,m),S(t,r,m),p(r,v),p(v,I),p(v,y),p(r,u),p(r,h);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(h,null)},p(t,m){if(m&32&&O(e,t[5]),m&2){f=q(t[1]);let a;for(a=0;a<f.length;a+=1){const w=K(t,f,a);o[a]?o[a].p(w,m):(o[a]=Q(w),o[a].c(),o[a].m(_,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=f.length}if(m&24&&P!==(P=t[3]?` $${t[4]}`:"")&&O(y,P),m&12){k=q(t[2]);let a;for(a=0;a<k.length;a+=1){const w=J(t,k,a);c[a]?c[a].p(w,m):(c[a]=R(w),c[a].c(),c[a].m(h,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=k.length}},d(t){t&&(d(s),d(l),d(i),d(V),d(r)),G(o,t),G(c,t)}}}function Q(n){let s,e,l,i=n[11]+"",_,V,r,v,I=(n[15]||"&nbsp;")+"",P,y,u,h,f=n[12]+"",o,k;return{c(){s=b("div"),e=b("div"),l=b("p"),_=M(i),V=j(),r=b("p"),v=new U(!1),P=j(),y=b("div"),u=b("p"),h=M("$"),o=M(f),k=j(),this.h()},l(c){s=g(c,"DIV",{class:!0});var t=E(s);e=g(t,"DIV",{class:!0});var m=E(e);l=g(m,"P",{class:!0});var a=E(l);_=N(a,i),a.forEach(d),V=T(m),r=g(m,"P",{class:!0});var w=E(r);v=W(w,!1),w.forEach(d),m.forEach(d),P=T(t),y=g(t,"DIV",{class:!0});var $=E(y);u=g($,"P",{class:!0});var C=E(u);h=N(C,"$"),o=N(C,f),C.forEach(d),$.forEach(d),k=T(t),t.forEach(d),this.h()},h(){D(l,"class","name svelte-1hdbyy3"),v.a=null,D(r,"class","detail svelte-1hdbyy3"),D(e,"class","text svelte-1hdbyy3"),D(u,"class","price svelte-1hdbyy3"),D(y,"class","amount"),D(s,"class","item svelte-1hdbyy3")},m(c,t){S(c,s,t),p(s,e),p(e,l),p(l,_),p(e,V),p(e,r),v.m(I,r),p(s,P),p(s,y),p(y,u),p(u,h),p(u,o),p(s,k)},p(c,t){t&2&&i!==(i=c[11]+"")&&O(_,i),t&2&&I!==(I=(c[15]||"&nbsp;")+"")&&v.p(I),t&2&&f!==(f=c[12]+"")&&O(o,f)},d(c){c&&d(s)}}}function R(n){let s,e,l,i=n[11]+"",_,V,r,v,I,P=n[3]?"&nbsp;":`$${n[12]}`,y;return{c(){s=b("div"),e=b("div"),l=b("p"),_=M(i),V=j(),r=b("div"),v=b("p"),I=new U(!1),y=j(),this.h()},l(u){s=g(u,"DIV",{class:!0});var h=E(s);e=g(h,"DIV",{class:!0});var f=E(e);l=g(f,"P",{class:!0});var o=E(l);_=N(o,i),o.forEach(d),f.forEach(d),V=T(h),r=g(h,"DIV",{class:!0});var k=E(r);v=g(k,"P",{class:!0});var c=E(v);I=W(c,!1),c.forEach(d),k.forEach(d),y=T(h),h.forEach(d),this.h()},h(){D(l,"class","name svelte-1hdbyy3"),D(e,"class","text svelte-1hdbyy3"),I.a=null,D(v,"class","price svelte-1hdbyy3"),D(r,"class","amount"),D(s,"class","item svelte-1hdbyy3")},m(u,h){S(u,s,h),p(s,e),p(e,l),p(l,_),p(s,V),p(s,r),p(r,v),I.m(P,v),p(s,y)},p(u,h){h&4&&i!==(i=u[11]+"")&&O(_,i),h&12&&P!==(P=u[3]?"&nbsp;":`$${u[12]}`)&&I.p(P)},d(u){u&&d(s)}}}function se(n){let s,e=n[0]&&L(n);return{c(){s=b("div"),e&&e.c(),this.h()},l(l){s=g(l,"DIV",{class:!0});var i=E(s);e&&e.l(i),i.forEach(d),this.h()},h(){D(s,"class","c svelte-1hdbyy3"),F(s,"split",n[6])},m(l,i){S(l,s,i),e&&e.m(s,null)},p(l,[i]){l[0]?e?e.p(l,i):(e=L(l),e.c(),e.m(s,null)):e&&(e.d(1),e=null),i&64&&F(s,"split",l[6])},i:A,o:A,d(l){l&&d(s),e&&e.d()}}}function le(n,s,e){let l,i=[],_=[],V=!1,r,v,I;B(()=>{});async function P(){try{const u=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),h=u.items.filter(f=>f.price&&f.item);e(0,l=h.length>0),e(1,i=h.filter(f=>f.section==="main")),i.sort((f,o)=>o.price-f.price),e(2,_=h.filter(f=>f.section==="side")),e(4,r=_[0].price),e(3,V=_.every(f=>f.price===r)),e(5,v=u.updated)}catch(y){console.log(y)}finally{setTimeout(P,6e4)}}return B(async()=>{e(6,I=te("split")),await P()}),[l,i,_,V,r,v,I]}class re extends Z{constructor(s){super(),x(this,s,le,se,Y,{})}}export{re as component};
