import{s as de,n as ie,z as bt,o as Ft}from"../chunks/scheduler.DvL4S4Fv.js";import{S as ye,i as Te,e as S,c as w,a as F,d as T,o as b,B as q,f as O,A as Ze,t as R,h as P,H as ze,b as Q,k as V,C as Re,g as _,s as oe,p as De,n as Z,l as $,m as Qe,u as je,j as Se,y as Je,v as Xe,w as Be,q as Ge,x as Ke}from"../chunks/index.mEyKcOYa.js";import{e as ce}from"../chunks/transform.BGVe7FNy.js";import{p as Yt}from"../chunks/stores.C--ycTue.js";function we(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}const he=new Date,ge=new Date;function A(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const u=a(o),c=a.ceil(o);return o-u<c-o?u:c},a.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),a.range=(o,u,c)=>{const m=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<u)||!(c>0))return m;let p;do m.push(p=new Date(+o)),t(o,c),e(o);while(p<o&&o<u);return m},a.filter=o=>A(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;t(u,-1),!o(u););else for(;--c>=0;)for(;t(u,1),!o(u););}),r&&(a.count=(o,u)=>(he.setTime(+o),ge.setTime(+u),e(he),e(ge),Math.floor(r(he,ge))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?u=>n(u)%o===0:u=>a.count(0,u)%o===0):a)),a}const kt=1e3,Ce=kt*60,Ht=Ce*60,ue=Ht*24,$e=ue*7,_e=A(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ce)/ue,e=>e.getDate()-1);_e.range;const Me=A(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ue,e=>e.getUTCDate()-1);Me.range;const Wt=A(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ue,e=>Math.floor(e/ue));Wt.range;function X(e){return A(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ce)/$e)}const et=X(0),fe=X(1),Lt=X(2),It=X(3),ee=X(4),Nt=X(5),Ot=X(6);et.range;fe.range;Lt.range;It.range;ee.range;Nt.range;Ot.range;function B(e){return A(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$e)}const tt=B(0),me=B(1),Et=B(2),xt=B(3),te=B(4),Pt=B(5),Vt=B(6);tt.range;me.range;Et.range;xt.range;te.range;Pt.range;Vt.range;const j=A(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());j.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:A(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});j.range;const J=A(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());J.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:A(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});J.range;function pe(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ve(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ne(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function At(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,u=e.shortDays,c=e.months,m=e.shortMonths,p=re(a),C=ae(a),v=re(o),f=ae(o),i=re(u),h=ae(u),D=re(c),E=ae(c),U=re(m),k=ae(m),I={a:pt,A:vt,b:dt,B:yt,c:null,d:We,e:We,f:fn,g:_n,G:Un,H:sn,I:ln,j:cn,L:nt,m:mn,M:hn,p:Tt,q:Ct,Q:Ne,s:Oe,S:gn,u:pn,U:vn,V:dn,w:yn,W:Tn,x:null,X:null,y:Cn,Y:Mn,Z:Dn,"%":Ie},x={a:_t,A:Mt,b:Ut,B:Dt,c:null,d:Le,e:Le,f:Fn,g:xn,G:Vn,H:Sn,I:wn,j:bn,L:at,m:Yn,M:kn,p:St,q:wt,Q:Ne,s:Oe,S:Hn,u:Wn,U:Ln,V:In,w:Nn,W:On,x:null,X:null,y:En,Y:Pn,Z:An,"%":Ie},se={a:lt,A:it,b:ct,B:ft,c:mt,d:ke,e:ke,f:rn,g:Ye,G:Fe,H:He,I:He,j:$t,L:nn,m:Kt,M:en,p:st,q:Gt,Q:on,s:un,S:tn,u:Qt,U:jt,V:Jt,w:Rt,W:Xt,x:ht,X:gt,y:Ye,Y:Fe,Z:Bt,"%":an};I.x=N(r,I),I.X=N(n,I),I.c=N(t,I),x.x=N(r,x),x.X=N(n,x),x.c=N(t,x);function N(l,g){return function(d){var s=[],H=-1,M=0,W=l.length,L,z,Ue;for(d instanceof Date||(d=new Date(+d));++H<W;)l.charCodeAt(H)===37&&(s.push(l.slice(M,H)),(z=be[L=l.charAt(++H)])!=null?L=l.charAt(++H):z=L==="e"?" ":"0",(Ue=g[L])&&(L=Ue(d,z)),s.push(L),M=H+1);return s.push(l.slice(M,H)),s.join("")}}function G(l,g){return function(d){var s=ne(1900,void 0,1),H=le(s,l,d+="",0),M,W;if(H!=d.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(s.s*1e3+("L"in s?s.L:0));if(g&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+s.p*12),s.m===void 0&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(M=ve(ne(s.y,0,1)),W=M.getUTCDay(),M=W>4||W===0?me.ceil(M):me(M),M=Me.offset(M,(s.V-1)*7),s.y=M.getUTCFullYear(),s.m=M.getUTCMonth(),s.d=M.getUTCDate()+(s.w+6)%7):(M=pe(ne(s.y,0,1)),W=M.getDay(),M=W>4||W===0?fe.ceil(M):fe(M),M=_e.offset(M,(s.V-1)*7),s.y=M.getFullYear(),s.m=M.getMonth(),s.d=M.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),W="Z"in s?ve(ne(s.y,0,1)).getUTCDay():pe(ne(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+s.W*7-(W+5)%7:s.w+s.U*7-(W+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,ve(s)):pe(s)}}function le(l,g,d,s){for(var H=0,M=g.length,W=d.length,L,z;H<M;){if(s>=W)return-1;if(L=g.charCodeAt(H++),L===37){if(L=g.charAt(H++),z=se[L in be?g.charAt(H++):L],!z||(s=z(l,d,s))<0)return-1}else if(L!=d.charCodeAt(s++))return-1}return s}function st(l,g,d){var s=p.exec(g.slice(d));return s?(l.p=C.get(s[0].toLowerCase()),d+s[0].length):-1}function lt(l,g,d){var s=i.exec(g.slice(d));return s?(l.w=h.get(s[0].toLowerCase()),d+s[0].length):-1}function it(l,g,d){var s=v.exec(g.slice(d));return s?(l.w=f.get(s[0].toLowerCase()),d+s[0].length):-1}function ct(l,g,d){var s=U.exec(g.slice(d));return s?(l.m=k.get(s[0].toLowerCase()),d+s[0].length):-1}function ft(l,g,d){var s=D.exec(g.slice(d));return s?(l.m=E.get(s[0].toLowerCase()),d+s[0].length):-1}function mt(l,g,d){return le(l,t,g,d)}function ht(l,g,d){return le(l,r,g,d)}function gt(l,g,d){return le(l,n,g,d)}function pt(l){return u[l.getDay()]}function vt(l){return o[l.getDay()]}function dt(l){return m[l.getMonth()]}function yt(l){return c[l.getMonth()]}function Tt(l){return a[+(l.getHours()>=12)]}function Ct(l){return 1+~~(l.getMonth()/3)}function _t(l){return u[l.getUTCDay()]}function Mt(l){return o[l.getUTCDay()]}function Ut(l){return m[l.getUTCMonth()]}function Dt(l){return c[l.getUTCMonth()]}function St(l){return a[+(l.getUTCHours()>=12)]}function wt(l){return 1+~~(l.getUTCMonth()/3)}return{format:function(l){var g=N(l+="",I);return g.toString=function(){return l},g},parse:function(l){var g=G(l+="",!1);return g.toString=function(){return l},g},utcFormat:function(l){var g=N(l+="",x);return g.toString=function(){return l},g},utcParse:function(l){var g=G(l+="",!0);return g.toString=function(){return l},g}}}var be={"-":"",_:" ",0:"0"},Y=/^\s*\d+/,qt=/^%/,Zt=/[\\^$*+?|[\]().{}]/g;function y(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function zt(e){return e.replace(Zt,"\\$&")}function re(e){return new RegExp("^(?:"+e.map(zt).join("|")+")","i")}function ae(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rt(e,t,r){var n=Y.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qt(e,t,r){var n=Y.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function jt(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Jt(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Xt(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Fe(e,t,r){var n=Y.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ye(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gt(e,t,r){var n=Y.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Kt(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ke(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $t(e,t,r){var n=Y.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function He(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function en(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tn(e,t,r){var n=Y.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nn(e,t,r){var n=Y.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rn(e,t,r){var n=Y.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function an(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function on(e,t,r){var n=Y.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function un(e,t,r){var n=Y.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function We(e,t){return y(e.getDate(),t,2)}function sn(e,t){return y(e.getHours(),t,2)}function ln(e,t){return y(e.getHours()%12||12,t,2)}function cn(e,t){return y(1+_e.count(j(e),e),t,3)}function nt(e,t){return y(e.getMilliseconds(),t,3)}function fn(e,t){return nt(e,t)+"000"}function mn(e,t){return y(e.getMonth()+1,t,2)}function hn(e,t){return y(e.getMinutes(),t,2)}function gn(e,t){return y(e.getSeconds(),t,2)}function pn(e){var t=e.getDay();return t===0?7:t}function vn(e,t){return y(et.count(j(e)-1,e),t,2)}function rt(e){var t=e.getDay();return t>=4||t===0?ee(e):ee.ceil(e)}function dn(e,t){return e=rt(e),y(ee.count(j(e),e)+(j(e).getDay()===4),t,2)}function yn(e){return e.getDay()}function Tn(e,t){return y(fe.count(j(e)-1,e),t,2)}function Cn(e,t){return y(e.getFullYear()%100,t,2)}function _n(e,t){return e=rt(e),y(e.getFullYear()%100,t,2)}function Mn(e,t){return y(e.getFullYear()%1e4,t,4)}function Un(e,t){var r=e.getDay();return e=r>=4||r===0?ee(e):ee.ceil(e),y(e.getFullYear()%1e4,t,4)}function Dn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+y(t/60|0,"0",2)+y(t%60,"0",2)}function Le(e,t){return y(e.getUTCDate(),t,2)}function Sn(e,t){return y(e.getUTCHours(),t,2)}function wn(e,t){return y(e.getUTCHours()%12||12,t,2)}function bn(e,t){return y(1+Me.count(J(e),e),t,3)}function at(e,t){return y(e.getUTCMilliseconds(),t,3)}function Fn(e,t){return at(e,t)+"000"}function Yn(e,t){return y(e.getUTCMonth()+1,t,2)}function kn(e,t){return y(e.getUTCMinutes(),t,2)}function Hn(e,t){return y(e.getUTCSeconds(),t,2)}function Wn(e){var t=e.getUTCDay();return t===0?7:t}function Ln(e,t){return y(tt.count(J(e)-1,e),t,2)}function ot(e){var t=e.getUTCDay();return t>=4||t===0?te(e):te.ceil(e)}function In(e,t){return e=ot(e),y(te.count(J(e),e)+(J(e).getUTCDay()===4),t,2)}function Nn(e){return e.getUTCDay()}function On(e,t){return y(me.count(J(e)-1,e),t,2)}function En(e,t){return y(e.getUTCFullYear()%100,t,2)}function xn(e,t){return e=ot(e),y(e.getUTCFullYear()%100,t,2)}function Pn(e,t){return y(e.getUTCFullYear()%1e4,t,4)}function Vn(e,t){var r=e.getUTCDay();return e=r>=4||r===0?te(e):te.ceil(e),y(e.getUTCFullYear()%1e4,t,4)}function An(){return"+0000"}function Ie(){return"%"}function Ne(e){return+e}function Oe(e){return Math.floor(+e/1e3)}var K,ut;qn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qn(e){return K=At(e),ut=K.format,K.parse,K.utcFormat,K.utcParse,K}function Ee(e,t,r){const n=e.slice();return n[5]=t[r].item,n[6]=t[r].detail,n[7]=t[r].price,n}function xe(e){let t,r,n,a=e[5]+"",o,u,c,m,p=(e[6]||"&nbsp;")+"",C,v,f,i,h=e[7]+"",D,E;return{c(){t=S("div"),r=S("div"),n=S("p"),o=R(a),u=P(),c=S("p"),m=new ze(!1),C=P(),v=S("div"),f=S("p"),i=R("$"),D=R(h),E=P(),this.h()},l(U){t=w(U,"DIV",{class:!0});var k=F(t);r=w(k,"DIV",{class:!0});var I=F(r);n=w(I,"P",{class:!0});var x=F(n);o=Q(x,a),x.forEach(T),u=V(I),c=w(I,"P",{class:!0});var se=F(c);m=Re(se,!1),se.forEach(T),I.forEach(T),C=V(k),v=w(k,"DIV",{class:!0});var N=F(v);f=w(N,"P",{class:!0});var G=F(f);i=Q(G,"$"),D=Q(G,h),G.forEach(T),N.forEach(T),E=V(k),k.forEach(T),this.h()},h(){b(n,"class","name svelte-1cpr0xv"),m.a=null,b(c,"class","detail svelte-1cpr0xv"),b(r,"class","text svelte-1cpr0xv"),b(f,"class","price svelte-1cpr0xv"),b(v,"class","amount"),b(t,"class","item svelte-1cpr0xv")},m(U,k){O(U,t,k),_(t,r),_(r,n),_(n,o),_(r,u),_(r,c),m.m(p,c),_(t,C),_(t,v),_(v,f),_(f,i),_(f,D),_(t,E)},p(U,k){k&1&&a!==(a=U[5]+"")&&oe(o,a),k&1&&p!==(p=(U[6]||"&nbsp;")+"")&&m.p(p),k&1&&h!==(h=U[7]+"")&&oe(D,h)},d(U){U&&T(t)}}}function Zn(e){let t,r=ce(e[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=xe(Ee(e,r,a));return{c(){t=S("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var o=F(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(T),this.h()},h(){b(t,"class","items svelte-1cpr0xv"),q(t,"split",e[1]),q(t,"tuck",e[2])},m(a,o){O(a,t,o);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null)},p(a,[o]){if(o&1){r=ce(a[0]);let u;for(u=0;u<r.length;u+=1){const c=Ee(a,r,u);n[u]?n[u].p(c,o):(n[u]=xe(c),n[u].c(),n[u].m(t,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}o&2&&q(t,"split",a[1]),o&4&&q(t,"tuck",a[2])},i:ie,o:ie,d(a){a&&T(t),Ze(n,a)}}}function zn(e,t,r){let{data:n}=t,{split:a}=t,{hasSides:o}=t,u=!1;function c(){console.log(n);const m=we(n,C=>{var v;return(v=C.item)==null?void 0:v.length}),p=we(n,C=>{var v;return(v=C.detail)==null?void 0:v.length});r(2,u=n.length<=5),console.log({maxItem:m,maxDetail:p})}return e.$$set=m=>{"data"in m&&r(0,n=m.data),"split"in m&&r(1,a=m.split),"hasSides"in m&&r(3,o=m.hasSides)},e.$$.update=()=>{e.$$.dirty&1&&c()},[n,a,u,o]}class Rn extends ye{constructor(t){super(),Te(this,t,zn,Zn,de,{data:0,split:1,hasSides:3})}}function Pe(e,t,r){const n=e.slice();return n[3]=t[r].item,n[4]=t[r].price,n}function Ve(e){let t,r,n,a=e[3]+"",o,u,c,m,p,C=e[1]?"":`$${e[4]}`,v;return{c(){t=S("div"),r=S("div"),n=S("p"),o=R(a),u=P(),c=S("div"),m=S("p"),p=new ze(!1),v=P(),this.h()},l(f){t=w(f,"DIV",{class:!0});var i=F(t);r=w(i,"DIV",{class:!0});var h=F(r);n=w(h,"P",{class:!0});var D=F(n);o=Q(D,a),D.forEach(T),h.forEach(T),u=V(i),c=w(i,"DIV",{class:!0});var E=F(c);m=w(E,"P",{class:!0});var U=F(m);p=Re(U,!1),U.forEach(T),E.forEach(T),v=V(i),i.forEach(T),this.h()},h(){b(n,"class","name svelte-1v8n0qz"),b(r,"class","text"),p.a=null,b(m,"class","price svelte-1v8n0qz"),b(c,"class","amount"),b(t,"class","item svelte-1v8n0qz")},m(f,i){O(f,t,i),_(t,r),_(r,n),_(n,o),_(t,u),_(t,c),_(c,m),p.m(C,m),_(t,v)},p(f,i){i&1&&a!==(a=f[3]+"")&&oe(o,a),i&3&&C!==(C=f[1]?"":`$${f[4]}`)&&p.p(C)},d(f){f&&T(t)}}}function Qn(e){let t,r=ce(e[0]),n=[];for(let a=0;a<r.length;a+=1)n[a]=Ve(Pe(e,r,a));return{c(){t=S("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var o=F(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(T),this.h()},h(){b(t,"class","items svelte-1v8n0qz"),q(t,"split",e[2])},m(a,o){O(a,t,o);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null)},p(a,[o]){if(o&3){r=ce(a[0]);let u;for(u=0;u<r.length;u+=1){const c=Pe(a,r,u);n[u]?n[u].p(c,o):(n[u]=Ve(c),n[u].c(),n[u].m(t,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}o&4&&q(t,"split",a[2])},i:ie,o:ie,d(a){a&&T(t),Ze(n,a)}}}function jn(e,t,r){let{data:n}=t,{uniform:a}=t,{split:o}=t;return e.$$set=u=>{"data"in u&&r(0,n=u.data),"uniform"in u&&r(1,a=u.uniform),"split"in u&&r(2,o=u.split)},[n,a,o]}class Jn extends ye{constructor(t){super(),Te(this,t,jn,Qn,de,{data:0,uniform:1,split:2})}}function Xn(e){const n=bt(Yt).url.search.split("&").find(a=>a.includes(`${e}=`));if(n)return n.split("=")[1]}function Ae(e){let t,r,n,a,o,u="No<br/>Comply<br/>Foods",c,m,p,C,v;m=new Rn({props:{data:e[3],split:e[7],hasSides:e[2]}});let f=e[2]&&qe(e);return{c(){t=S("p"),r=R(e[6]),n=P(),a=S("section"),o=S("h1"),o.innerHTML=u,c=P(),je(m.$$.fragment),p=P(),f&&f.c(),C=Se(),this.h()},l(i){t=w(i,"P",{class:!0});var h=F(t);r=Q(h,e[6]),h.forEach(T),n=V(i),a=w(i,"SECTION",{class:!0});var D=F(a);o=w(D,"H1",{class:!0,"data-svelte-h":!0}),Je(o)!=="svelte-u6ggkq"&&(o.innerHTML=u),c=V(D),Xe(m.$$.fragment,D),D.forEach(T),p=V(i),f&&f.l(i),C=Se(),this.h()},h(){b(t,"class","updated svelte-3pbvcs"),b(o,"class","svelte-3pbvcs"),b(a,"class","mains svelte-3pbvcs")},m(i,h){O(i,t,h),_(t,r),O(i,n,h),O(i,a,h),_(a,o),_(a,c),Be(m,a,null),O(i,p,h),f&&f.m(i,h),O(i,C,h),v=!0},p(i,h){(!v||h&64)&&oe(r,i[6]);const D={};h&8&&(D.data=i[3]),h&128&&(D.split=i[7]),h&4&&(D.hasSides=i[2]),m.$set(D),i[2]?f?(f.p(i,h),h&4&&Z(f,1)):(f=qe(i),f.c(),Z(f,1),f.m(C.parentNode,C)):f&&(Ge(),$(f,1,1,()=>{f=null}),Qe())},i(i){v||(Z(m.$$.fragment,i),Z(f),v=!0)},o(i){$(m.$$.fragment,i),$(f),v=!1},d(i){i&&(T(t),T(n),T(a),T(p),T(C)),Ke(m),f&&f.d(i)}}}function qe(e){let t,r,n,a=e[4]?` $${e[5]}`:"",o,u,c,m,p,C="No<br/>Comply<br/>Foods",v;return c=new Jn({props:{data:e[1],uniform:e[4],split:e[7]}}),{c(){t=S("section"),r=S("p"),n=R("Sides"),o=R(a),u=P(),je(c.$$.fragment),m=P(),p=S("h1"),p.innerHTML=C,this.h()},l(f){t=w(f,"SECTION",{class:!0});var i=F(t);r=w(i,"P",{class:!0});var h=F(r);n=Q(h,"Sides"),o=Q(h,a),h.forEach(T),u=V(i),Xe(c.$$.fragment,i),m=V(i),p=w(i,"H1",{class:!0,"data-svelte-h":!0}),Je(p)!=="svelte-u6ggkq"&&(p.innerHTML=C),i.forEach(T),this.h()},h(){b(r,"class","title svelte-3pbvcs"),b(p,"class","svelte-3pbvcs"),b(t,"class","sides svelte-3pbvcs")},m(f,i){O(f,t,i),_(t,r),_(r,n),_(r,o),_(t,u),Be(c,t,null),_(t,m),_(t,p),v=!0},p(f,i){(!v||i&48)&&a!==(a=f[4]?` $${f[5]}`:"")&&oe(o,a);const h={};i&2&&(h.data=f[1]),i&16&&(h.uniform=f[4]),i&128&&(h.split=f[7]),c.$set(h)},i(f){v||(Z(c.$$.fragment,f),v=!0)},o(f){$(c.$$.fragment,f),v=!1},d(f){f&&T(t),Ke(c)}}}function Bn(e){let t,r,n=e[0]&&Ae(e);return{c(){t=S("div"),n&&n.c(),this.h()},l(a){t=w(a,"DIV",{style:!0,class:!0});var o=F(t);n&&n.l(o),o.forEach(T),this.h()},h(){De(t,"--side-width",e[8]),b(t,"class","svelte-3pbvcs"),q(t,"split",e[7])},m(a,o){O(a,t,o),n&&n.m(t,null),r=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&Z(n,1)):(n=Ae(a),n.c(),Z(n,1),n.m(t,null)):n&&(Ge(),$(n,1,1,()=>{n=null}),Qe()),(!r||o&256)&&De(t,"--side-width",a[8]),(!r||o&128)&&q(t,"split",a[7])},i(a){r||(Z(n),r=!0)},o(a){$(n),r=!1},d(a){a&&T(t),n&&n.d()}}}function Gn(e,t,r){let n,a,o,u=[],c=[],m=!1,p,C,v;async function f(){try{const h=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),D=h.items.filter(U=>U.price&&U.item);r(0,a=D.length>0),r(3,u=D.filter(U=>U.section==="main")),u.sort((U,k)=>k.price-U.price),r(1,c=D.filter(U=>U.section==="side")),r(2,o=c.length>0),o&&(r(5,p=c[0].price),r(4,m=c.every(U=>U.price===p)));const E=new Date(h.updated);r(6,C=ut("%B %d, %I:%M %p")(E))}catch(i){console.log(i)}finally{setTimeout(f,3e4)}}return Ft(async()=>{r(7,v=Xn("split")),await f()}),e.$$.update=()=>{e.$$.dirty&3&&r(8,n=a?`${Math.floor(1/Math.ceil(c.length/2)*100)}%`:"none")},[a,c,o,u,m,p,C,v,n]}class nr extends ye{constructor(t){super(),Te(this,t,Gn,Bn,de,{})}}export{nr as component};
