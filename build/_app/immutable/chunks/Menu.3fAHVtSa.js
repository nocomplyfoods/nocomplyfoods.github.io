import{s as K,n as j}from"./scheduler.37zBBjGX.js";import{S as U,i as W,h as _,k as p,l as k,f as m,r as v,E as b,d as y,w as Y,s as D,b as S,o as g,j as T,H as V,u as A,n as H,F as O,p as X,c as Z,a as $,y as C,m as x,t as ee,e as te,g as le,q as se}from"./index.DLdBAJEO.js";import{e as q}from"./transform.Dh1RLYvp.js";function J(r,e){let l;if(e===void 0)for(const t of r)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let a of r)(a=e(a,++t,r))!=null&&(l<a||l===void 0&&a>=a)&&(l=a)}return l}let N;const L=()=>{if(N!==void 0)return N;try{const r=window.localStorage,e="__storage_test__";r.setItem(e,e),r.removeItem(e),N=!0}catch{N=!1}finally{return N}},ae=r=>{if(L())try{localStorage.removeItem(r)}catch(e){console.log(e)}},ne=(r,e)=>{if(L())try{localStorage.setItem(r,JSON.stringify(e))}catch(l){console.log(l)}},re=r=>{if(L())try{return JSON.parse(localStorage.getItem(r))}catch(e){console.log(e);return}},F={set:ne,get:re,remove:ae};async function ge(r){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.name||n.detail&&n.section).length>0)r!==e.updated&&F.set("nocomply_menu",e);else throw new Error("no data")}catch(a){console.log(a==null?void 0:a.message),t=a==null?void 0:a.message,e=F.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function ie(r){if(typeof r!="string")return"";let e="",l=!0;for(let t=0;t<r.length;t++)r[t]==='"'?(e+=l?"“":"”",l=!l):e+=r[t];return e}function oe(r){return typeof r!="string"?"":r.replace(/'/g,"’")}function Q(r,e,l){const t=r.slice();return t[3]=e[l].name,t[4]=e[l].detail,t[5]=e[l].price,t[6]=e[l].header,t[7]=e[l].note,t}function fe(r){let e,l,t=r[2](r[3])+"",a,i,s,n,o=r[2](r[4])+"",h,d,c=r[5]&&R(r);return{c(){e=_("div"),l=_("p"),a=T(t),i=D(),s=_("p"),n=new V(!1),h=D(),c&&c.c(),d=A(),this.h()},l(f){e=p(f,"DIV",{class:!0});var u=k(e);l=p(u,"P",{class:!0});var E=k(l);a=H(E,t),E.forEach(m),i=S(u),s=p(u,"P",{class:!0});var I=k(s);n=O(I,!1),I.forEach(m),u.forEach(m),h=S(f),c&&c.l(f),d=A(),this.h()},h(){v(l,"class","name svelte-1wkflka"),n.a=null,v(s,"class","detail svelte-1wkflka"),v(e,"class","text svelte-1wkflka")},m(f,u){y(f,e,u),g(e,l),g(l,a),g(e,i),g(e,s),n.m(o,s),y(f,h,u),c&&c.m(f,u),y(f,d,u)},p(f,u){u&1&&t!==(t=f[2](f[3])+"")&&X(a,t),u&1&&o!==(o=f[2](f[4])+"")&&n.p(o),f[5]?c?c.p(f,u):(c=R(f),c.c(),c.m(d.parentNode,d)):c&&(c.d(1),c=null)},d(f){f&&(m(e),m(h),m(d)),c&&c.d(f)}}}function ce(r){let e,l,t=r[2](r[3])+"",a,i,s,n,o,h,d=r[2](r[4])+"",c=r[5]&&z(r);return{c(){e=_("div"),l=_("p"),a=T(t),i=D(),c&&c.c(),s=D(),n=_("div"),o=_("p"),h=new V(!1),this.h()},l(f){e=p(f,"DIV",{class:!0});var u=k(e);l=p(u,"P",{class:!0});var E=k(l);a=H(E,t),E.forEach(m),i=S(u),c&&c.l(u),u.forEach(m),s=S(f),n=p(f,"DIV",{class:!0});var I=k(n);o=p(I,"P",{class:!0});var M=k(o);h=O(M,!1),M.forEach(m),I.forEach(m),this.h()},h(){v(l,"class","name svelte-1wkflka"),v(e,"class","top svelte-1wkflka"),h.a=null,v(o,"class","detail svelte-1wkflka"),v(n,"class","bottom")},m(f,u){y(f,e,u),g(e,l),g(l,a),g(e,i),c&&c.m(e,null),y(f,s,u),y(f,n,u),g(n,o),h.m(d,o)},p(f,u){u&1&&t!==(t=f[2](f[3])+"")&&X(a,t),f[5]?c?c.p(f,u):(c=z(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null),u&1&&d!==(d=f[2](f[4])+"")&&h.p(d)},d(f){f&&(m(e),m(s),m(n)),c&&c.d()}}}function R(r){var s;let e,l,t,a,i=((s=r[5])==null?void 0:s.trim())+"";return{c(){e=_("p"),l=_("span"),t=T("$"),a=new V(!1),this.h()},l(n){e=p(n,"P",{class:!0});var o=k(e);l=p(o,"SPAN",{class:!0}),k(l).forEach(m),t=H(o,"$"),a=O(o,!1),o.forEach(m),this.h()},h(){v(l,"class","dots svelte-1wkflka"),a.a=null,v(e,"class","price svelte-1wkflka")},m(n,o){y(n,e,o),g(e,l),g(e,t),a.m(i,e)},p(n,o){var h;o&1&&i!==(i=((h=n[5])==null?void 0:h.trim())+"")&&a.p(i)},d(n){n&&m(e)}}}function z(r){var s;let e,l,t,a,i=((s=r[5])==null?void 0:s.trim())+"";return{c(){e=_("p"),l=_("span"),t=T("$"),a=new V(!1),this.h()},l(n){e=p(n,"P",{class:!0});var o=k(e);l=p(o,"SPAN",{class:!0}),k(l).forEach(m),t=H(o,"$"),a=O(o,!1),o.forEach(m),this.h()},h(){v(l,"class","dots svelte-1wkflka"),a.a=null,v(e,"class","price svelte-1wkflka")},m(n,o){y(n,e,o),g(e,l),g(e,t),a.m(i,e)},p(n,o){var h;o&1&&i!==(i=((h=n[5])==null?void 0:h.trim())+"")&&a.p(i)},d(n){n&&m(e)}}}function B(r){let e,l;function t(s,n){return s[1]?ce:fe}let a=t(r),i=a(r);return{c(){e=_("div"),i.c(),l=D(),this.h()},l(s){e=p(s,"DIV",{class:!0});var n=k(e);i.l(n),l=S(n),n.forEach(m),this.h()},h(){v(e,"class","item svelte-1wkflka"),b(e,"header",r[6]),b(e,"note",r[7]),b(e,"noDetail",!r[4])},m(s,n){y(s,e,n),i.m(e,null),g(e,l)},p(s,n){a===(a=t(s))&&i?i.p(s,n):(i.d(1),i=a(s),i&&(i.c(),i.m(e,l))),n&1&&b(e,"header",s[6]),n&1&&b(e,"note",s[7]),n&1&&b(e,"noDetail",!s[4])},d(s){s&&m(e),i.d()}}}function ue(r){let e,l=q(r[0]),t=[];for(let a=0;a<l.length;a+=1)t[a]=B(Q(r,l,a));return{c(){e=_("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var i=k(e);for(let s=0;s<t.length;s+=1)t[s].l(i);i.forEach(m),this.h()},h(){v(e,"class","items svelte-1wkflka"),b(e,"web",r[1])},m(a,i){y(a,e,i);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(a,[i]){if(i&7){l=q(a[0]);let s;for(s=0;s<l.length;s+=1){const n=Q(a,l,s);t[s]?t[s].p(n,i):(t[s]=B(n),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}i&2&&b(e,"web",a[1])},i:j,o:j,d(a){a&&m(e),Y(t,a)}}}function me(r,e,l){let{data:t}=e,{web:a}=e;function i(s){return oe(ie(s.trim()))}return r.$$set=s=>{"data"in s&&l(0,t=s.data),"web"in s&&l(1,a=s.web)},[t,a,i]}class he extends U{constructor(e){super(),W(this,e,me,ue,K,{data:0,web:1})}}function G(r){let e,l=`<p class="svelte-18da308">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=_("section"),e.innerHTML=l,this.h()},l(t){e=p(t,"SECTION",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-6x1dkk"&&(e.innerHTML=l),this.h()},h(){v(e,"class","allergy svelte-18da308")},m(t,a){y(t,e,a)},d(t){t&&m(e)}}}function de(r){let e,l,t,a,i;t=new he({props:{web:r[0],data:r[2]}});let s=!r[0]&&!r[1]&&G();return{c(){e=_("div"),l=_("section"),Z(t.$$.fragment),a=D(),s&&s.c(),this.h()},l(n){e=p(n,"DIV",{style:!0,class:!0});var o=k(e);l=p(o,"SECTION",{class:!0});var h=k(l);$(t.$$.fragment,h),h.forEach(m),a=S(o),s&&s.l(o),o.forEach(m),this.h()},h(){v(l,"class","mains svelte-18da308"),C(e,"--scale",r[3]),C(e,"--scale-detail",r[4]),v(e,"class","svelte-18da308"),b(e,"drinks",r[1]),b(e,"web",r[0])},m(n,o){y(n,e,o),g(e,l),x(t,l,null),g(e,a),s&&s.m(e,null),i=!0},p(n,[o]){const h={};o&1&&(h.web=n[0]),o&4&&(h.data=n[2]),t.$set(h),!n[0]&&!n[1]?s||(s=G(),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!i||o&8)&&C(e,"--scale",n[3]),(!i||o&16)&&C(e,"--scale-detail",n[4]),(!i||o&2)&&b(e,"drinks",n[1]),(!i||o&1)&&b(e,"web",n[0])},i(n){i||(ee(t.$$.fragment,n),i=!0)},o(n){te(t.$$.fragment,n),i=!1},d(n){n&&m(e),le(t),s&&s.d()}}}function _e(r,e,l){let{web:t}=e,{items:a}=e,{drinks:i}=e,s=[],n=1,o=1;function h(d){l(2,s=d.filter(w=>w.type==="item"||w.type==="header"||w.type==="note").map(w=>{var P;return{...w,header:w.type==="header",note:w.type==="note",price:(P=w.price)==null?void 0:P.replace(" per person","<span class=per>per person</span>")}}));const E=1-Math.max(0,s.length-8)*.07;l(3,n=t?1:E),l(4,o=t?1:E);const I=J(s.map(w=>w.name.length)),M=J(s.map(w=>{var P;return((P=w.detail)==null?void 0:P.length)||0}));I>20&&l(3,n=Math.min(n,t?.8:20/I)),M>40&&l(4,o=Math.min(o,t?.9:40/M)),l(3,n=Math.max(n,i?.55:.6)),l(4,o=Math.max(o,i?.7:.5))}return r.$$set=d=>{"web"in d&&l(0,t=d.web),"items"in d&&l(5,a=d.items),"drinks"in d&&l(1,i=d.drinks)},r.$$.update=()=>{r.$$.dirty&32&&h(a)},[t,i,s,n,o,a]}class we extends U{constructor(e){super(),W(this,e,_e,de,K,{web:0,items:5,drinks:1})}}export{we as M,ge as l};
