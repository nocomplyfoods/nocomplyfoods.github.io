import{s as Z,n as G,A as J}from"./scheduler.37zBBjGX.js";import{S as $,i as x,h as p,k as g,l as w,f as _,r as d,E as v,d as b,w as te,s as E,b as I,o as k,j as T,H as C,u as F,n as V,F as H,p as ee,c as le,a as se,y as N,m as ae,t as ne,e as ie,g as re,q as oe}from"./index.DLdBAJEO.js";import{e as Q}from"./transform.Dh1RLYvp.js";function R(i,e){let s;if(e===void 0)for(const t of i)t!=null&&(s<t||s===void 0&&t>=t)&&(s=t);else{let t=-1;for(let a of i)(a=e(a,++t,i))!=null&&(s<a||s===void 0&&a>=a)&&(s=a)}return s}let P;const A=()=>{if(P!==void 0)return P;try{const i=window.localStorage,e="__storage_test__";i.setItem(e,e),i.removeItem(e),P=!0}catch{P=!1}finally{return P}},fe=i=>{if(A())try{localStorage.removeItem(i)}catch(e){console.log(e)}},ce=(i,e)=>{if(A())try{localStorage.setItem(i,JSON.stringify(e))}catch(s){console.log(s)}},ue=i=>{if(A())try{return JSON.parse(localStorage.getItem(i))}catch(e){console.log(e);return}},z={set:ce,get:ue,remove:fe};async function Ie(i){let e,s,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.name||n.detail&&n.section).length>0)i!==e.updated&&z.set("nocomply_menu",e);else throw new Error("no data")}catch(a){console.log(a==null?void 0:a.message),t=a==null?void 0:a.message,e=z.get("nocomply_menu"),s=!0}finally{return{data:e,backup:s,error:t}}}function me(i){if(typeof i!="string")return"";let e="",s=!0;for(let t=0;t<i.length;t++)i[t]==='"'?(e+=s?"“":"”",s=!s):e+=i[t];return e}function he(i){return typeof i!="string"?"":i.replace(/'/g,"’")}function B(i,e,s){const t=i.slice();return t[3]=e[s].name,t[4]=e[s].detail,t[5]=e[s].price,t[6]=e[s].header,t[7]=e[s].note,t}function _e(i){let e,s,t=i[2](i[3])+"",a,r,l,n,o=i[2](i[4])+"",f,h,c=i[5]&&K(i);return{c(){e=p("div"),s=p("p"),a=T(t),r=E(),l=p("p"),n=new C(!1),f=E(),c&&c.c(),h=F(),this.h()},l(u){e=g(u,"DIV",{class:!0});var m=w(e);s=g(m,"P",{class:!0});var M=w(s);a=V(M,t),M.forEach(_),r=I(m),l=g(m,"P",{class:!0});var D=w(l);n=H(D,!1),D.forEach(_),m.forEach(_),f=I(u),c&&c.l(u),h=F(),this.h()},h(){d(s,"class","name svelte-1wkflka"),n.a=null,d(l,"class","detail svelte-1wkflka"),d(e,"class","text svelte-1wkflka")},m(u,m){b(u,e,m),k(e,s),k(s,a),k(e,r),k(e,l),n.m(o,l),b(u,f,m),c&&c.m(u,m),b(u,h,m)},p(u,m){m&1&&t!==(t=u[2](u[3])+"")&&ee(a,t),m&1&&o!==(o=u[2](u[4])+"")&&n.p(o),u[5]?c?c.p(u,m):(c=K(u),c.c(),c.m(h.parentNode,h)):c&&(c.d(1),c=null)},d(u){u&&(_(e),_(f),_(h)),c&&c.d(u)}}}function de(i){let e,s,t=i[2](i[3])+"",a,r,l,n,o,f,h=i[2](i[4])+"",c=i[5]&&U(i);return{c(){e=p("div"),s=p("p"),a=T(t),r=E(),c&&c.c(),l=E(),n=p("div"),o=p("p"),f=new C(!1),this.h()},l(u){e=g(u,"DIV",{class:!0});var m=w(e);s=g(m,"P",{class:!0});var M=w(s);a=V(M,t),M.forEach(_),r=I(m),c&&c.l(m),m.forEach(_),l=I(u),n=g(u,"DIV",{class:!0});var D=w(n);o=g(D,"P",{class:!0});var O=w(o);f=H(O,!1),O.forEach(_),D.forEach(_),this.h()},h(){d(s,"class","name svelte-1wkflka"),d(e,"class","top svelte-1wkflka"),f.a=null,d(o,"class","detail svelte-1wkflka"),d(n,"class","bottom")},m(u,m){b(u,e,m),k(e,s),k(s,a),k(e,r),c&&c.m(e,null),b(u,l,m),b(u,n,m),k(n,o),f.m(h,o)},p(u,m){m&1&&t!==(t=u[2](u[3])+"")&&ee(a,t),u[5]?c?c.p(u,m):(c=U(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null),m&1&&h!==(h=u[2](u[4])+"")&&f.p(h)},d(u){u&&(_(e),_(l),_(n)),c&&c.d()}}}function K(i){var l;let e,s,t,a,r=((l=i[5])==null?void 0:l.trim())+"";return{c(){e=p("p"),s=p("span"),t=T("$"),a=new C(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);s=g(o,"SPAN",{class:!0}),w(s).forEach(_),t=V(o,"$"),a=H(o,!1),o.forEach(_),this.h()},h(){d(s,"class","dots svelte-1wkflka"),a.a=null,d(e,"class","price svelte-1wkflka")},m(n,o){b(n,e,o),k(e,s),k(e,t),a.m(r,e)},p(n,o){var f;o&1&&r!==(r=((f=n[5])==null?void 0:f.trim())+"")&&a.p(r)},d(n){n&&_(e)}}}function U(i){var l;let e,s,t,a,r=((l=i[5])==null?void 0:l.trim())+"";return{c(){e=p("p"),s=p("span"),t=T("$"),a=new C(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);s=g(o,"SPAN",{class:!0}),w(s).forEach(_),t=V(o,"$"),a=H(o,!1),o.forEach(_),this.h()},h(){d(s,"class","dots svelte-1wkflka"),a.a=null,d(e,"class","price svelte-1wkflka")},m(n,o){b(n,e,o),k(e,s),k(e,t),a.m(r,e)},p(n,o){var f;o&1&&r!==(r=((f=n[5])==null?void 0:f.trim())+"")&&a.p(r)},d(n){n&&_(e)}}}function W(i){let e,s;function t(l,n){return l[1]?de:_e}let a=t(i),r=a(i);return{c(){e=p("div"),r.c(),s=E(),this.h()},l(l){e=g(l,"DIV",{class:!0});var n=w(e);r.l(n),s=I(n),n.forEach(_),this.h()},h(){d(e,"class","item svelte-1wkflka"),v(e,"header",i[6]),v(e,"note",i[7]),v(e,"noDetail",!i[4])},m(l,n){b(l,e,n),r.m(e,null),k(e,s)},p(l,n){a===(a=t(l))&&r?r.p(l,n):(r.d(1),r=a(l),r&&(r.c(),r.m(e,s))),n&1&&v(e,"header",l[6]),n&1&&v(e,"note",l[7]),n&1&&v(e,"noDetail",!l[4])},d(l){l&&_(e),r.d()}}}function pe(i){let e,s=Q(i[0]),t=[];for(let a=0;a<s.length;a+=1)t[a]=W(B(i,s,a));return{c(){e=p("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var r=w(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(_),this.h()},h(){d(e,"class","items svelte-1wkflka"),v(e,"web",i[1])},m(a,r){b(a,e,r);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(a,[r]){if(r&7){s=Q(a[0]);let l;for(l=0;l<s.length;l+=1){const n=B(a,s,l);t[l]?t[l].p(n,r):(t[l]=W(n),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}r&2&&v(e,"web",a[1])},i:G,o:G,d(a){a&&_(e),te(t,a)}}}function ge(i,e,s){let{data:t}=e,{web:a}=e;function r(l){return he(me(l.trim()))}return i.$$set=l=>{"data"in l&&s(0,t=l.data),"web"in l&&s(1,a=l.web)},[t,a,r]}class ve extends ${constructor(e){super(),x(this,e,ge,pe,Z,{data:0,web:1})}}function X(i){let e,s=`<p class="svelte-x8n4gu">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=p("section"),e.innerHTML=s,this.h()},l(t){e=g(t,"SECTION",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-6x1dkk"&&(e.innerHTML=s),this.h()},h(){d(e,"class","allergy svelte-x8n4gu")},m(t,a){b(t,e,a)},d(t){t&&_(e)}}}function Y(i){let e,s,t,a,r;return{c(){e=p("img"),t=E(),a=p("img"),this.h()},l(l){e=g(l,"IMG",{class:!0,src:!0,alt:!0}),t=I(l),a=g(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(e,"class","skate svelte-x8n4gu"),J(e.src,s="/assets/images/skate.gif")||d(e,"src",s),d(e,"alt","tk"),v(e,"visible",i[5][0]),d(a,"class","steve svelte-x8n4gu"),J(a.src,r="/assets/images/steve.png")||d(a,"src",r),d(a,"alt","tk"),v(a,"visible",i[5][1])},m(l,n){b(l,e,n),b(l,t,n),b(l,a,n)},p(l,n){n&32&&v(e,"visible",l[5][0]),n&32&&v(a,"visible",l[5][1])},d(l){l&&(_(e),_(t),_(a))}}}function ke(i){let e,s,t,a,r,l;t=new ve({props:{web:i[0],data:i[2]}});let n=!i[0]&&!i[1]&&X(),o=!i[0]&&Y(i);return{c(){e=p("div"),s=p("section"),le(t.$$.fragment),a=E(),n&&n.c(),r=E(),o&&o.c(),this.h()},l(f){e=g(f,"DIV",{style:!0,class:!0});var h=w(e);s=g(h,"SECTION",{class:!0});var c=w(s);se(t.$$.fragment,c),c.forEach(_),a=I(h),n&&n.l(h),r=I(h),o&&o.l(h),h.forEach(_),this.h()},h(){d(s,"class","mains svelte-x8n4gu"),N(e,"--scale",i[3]),N(e,"--scale-detail",i[4]),d(e,"class","svelte-x8n4gu"),v(e,"drinks",i[1]),v(e,"web",i[0])},m(f,h){b(f,e,h),k(e,s),ae(t,s,null),k(e,a),n&&n.m(e,null),k(e,r),o&&o.m(e,null),l=!0},p(f,[h]){const c={};h&1&&(c.web=f[0]),h&4&&(c.data=f[2]),t.$set(c),!f[0]&&!f[1]?n||(n=X(),n.c(),n.m(e,r)):n&&(n.d(1),n=null),f[0]?o&&(o.d(1),o=null):o?o.p(f,h):(o=Y(f),o.c(),o.m(e,null)),(!l||h&8)&&N(e,"--scale",f[3]),(!l||h&16)&&N(e,"--scale-detail",f[4]),(!l||h&2)&&v(e,"drinks",f[1]),(!l||h&1)&&v(e,"web",f[0])},i(f){l||(ne(t.$$.fragment,f),l=!0)},o(f){ie(t.$$.fragment,f),l=!1},d(f){f&&_(e),re(t),n&&n.d(),o&&o.d()}}}function we(i,e,s){let{web:t}=e,{items:a}=e,{drinks:r}=e,l=[],n=1,o=1,f=[!1,!1],h=[930,3e3];function c(){const m=Math.floor(Math.random()*f.length);s(5,f[m]=!0,f),setTimeout(()=>{s(5,f[m]=!1,f)},h[m])}function u(m){s(2,l=m.filter(y=>y.type==="item"||y.type==="header"||y.type==="note").map(y=>{var S;return{...y,header:y.type==="header",note:y.type==="note",price:(S=y.price)==null?void 0:S.replace(" per person","<span class=per>per person</span>")}}));const L=1-Math.max(0,l.length-8)*.07;s(3,n=t?1:L),s(4,o=t?1:L);const j=R(l.map(y=>y.name.length)),q=R(l.map(y=>{var S;return((S=y.detail)==null?void 0:S.length)||0}));j>20&&s(3,n=Math.min(n,t?.8:20/j)),q>40&&s(4,o=Math.min(o,t?.9:40/q)),s(3,n=Math.max(n,r?.55:.6)),s(4,o=Math.max(o,r?.7:.5))}return i.$$set=m=>{"web"in m&&s(0,t=m.web),"items"in m&&s(6,a=m.items),"drinks"in m&&s(1,r=m.drinks)},i.$$.update=()=>{i.$$.dirty&64&&u(a)},[t,r,l,n,o,f,a,c]}class Me extends ${constructor(e){super(),x(this,e,we,ke,Z,{web:0,items:6,drinks:1,egg:7})}get egg(){return this.$$.ctx[7]}}export{Me as M,Ie as l};
