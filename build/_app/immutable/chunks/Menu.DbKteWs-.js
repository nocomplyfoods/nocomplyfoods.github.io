import{s as W,n as j,x as G}from"./scheduler.BDfStAzi.js";import{S as X,i as Y,h as d,k as v,l as w,f as _,u as p,B as k,d as g,v as x,s as E,b as D,o as b,j as C,H,q as O,n as V,G as L,p as Z,c as ee,a as te,x as T,m as le,t as se,e as ae,g as ie,A as $}from"./index.AEsMBDcT.js";import{e as B}from"./transform.Dh928dr6.js";function Q(n,e){let l;if(e===void 0)for(const t of n)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let a of n)(a=e(a,++t,n))!=null&&(l<a||l===void 0&&a>=a)&&(l=a)}return l}async function ke(n){let e,l;try{e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(s=>s.name||s.detail&&s.section).length>0||(l="no data")}catch(t){l=t==null?void 0:t.message}finally{return{data:e,error:l}}}function ne(n){if(typeof n!="string")return"";let e="",l=!0;for(let t=0;t<n.length;t++)n[t]==='"'?(e+=l?"“":"”",l=!l):e+=n[t];return e}function re(n){return typeof n!="string"?"":n.replace(/'/g,"’")}function U(n,e,l){const t=n.slice();return t[3]=e[l].name,t[4]=e[l].detail,t[5]=e[l].price,t[6]=e[l].header,t[7]=e[l].note,t}function fe(n){let e,l,t=n[2](n[3])+"",a,o,s,i,f=n[2](n[4])+"",r,u,c=n[5]&&z(n);return{c(){e=d("div"),l=d("p"),a=C(t),o=E(),s=d("p"),i=new H(!1),r=E(),c&&c.c(),u=O(),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=w(e);l=v(h,"P",{class:!0});var I=w(l);a=V(I,t),I.forEach(_),o=D(h),s=v(h,"P",{class:!0});var y=w(s);i=L(y,!1),y.forEach(_),h.forEach(_),r=D(m),c&&c.l(m),u=O(),this.h()},h(){p(l,"class","name svelte-1wkflka"),i.a=null,p(s,"class","detail svelte-1wkflka"),p(e,"class","text svelte-1wkflka")},m(m,h){g(m,e,h),b(e,l),b(l,a),b(e,o),b(e,s),i.m(f,s),g(m,r,h),c&&c.m(m,h),g(m,u,h)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&Z(a,t),h&1&&f!==(f=m[2](m[4])+"")&&i.p(f),m[5]?c?c.p(m,h):(c=z(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(_(e),_(r),_(u)),c&&c.d(m)}}}function oe(n){let e,l,t=n[2](n[3])+"",a,o,s,i,f,r,u=n[2](n[4])+"",c=n[5]&&F(n);return{c(){e=d("div"),l=d("p"),a=C(t),o=E(),c&&c.c(),s=E(),i=d("div"),f=d("p"),r=new H(!1),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=w(e);l=v(h,"P",{class:!0});var I=w(l);a=V(I,t),I.forEach(_),o=D(h),c&&c.l(h),h.forEach(_),s=D(m),i=v(m,"DIV",{class:!0});var y=w(i);f=v(y,"P",{class:!0});var S=w(f);r=L(S,!1),S.forEach(_),y.forEach(_),this.h()},h(){p(l,"class","name svelte-1wkflka"),p(e,"class","top svelte-1wkflka"),r.a=null,p(f,"class","detail svelte-1wkflka"),p(i,"class","bottom")},m(m,h){g(m,e,h),b(e,l),b(l,a),b(e,o),c&&c.m(e,null),g(m,s,h),g(m,i,h),b(i,f),r.m(u,f)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&Z(a,t),m[5]?c?c.p(m,h):(c=F(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null),h&1&&u!==(u=m[2](m[4])+"")&&r.p(u)},d(m){m&&(_(e),_(s),_(i)),c&&c.d()}}}function z(n){var s;let e,l,t,a,o=((s=n[5])==null?void 0:s.trim())+"";return{c(){e=d("p"),l=d("span"),t=C("$"),a=new H(!1),this.h()},l(i){e=v(i,"P",{class:!0});var f=w(e);l=v(f,"SPAN",{class:!0}),w(l).forEach(_),t=V(f,"$"),a=L(f,!1),f.forEach(_),this.h()},h(){p(l,"class","dots svelte-1wkflka"),a.a=null,p(e,"class","price svelte-1wkflka")},m(i,f){g(i,e,f),b(e,l),b(e,t),a.m(o,e)},p(i,f){var r;f&1&&o!==(o=((r=i[5])==null?void 0:r.trim())+"")&&a.p(o)},d(i){i&&_(e)}}}function F(n){var s;let e,l,t,a,o=((s=n[5])==null?void 0:s.trim())+"";return{c(){e=d("p"),l=d("span"),t=C("$"),a=new H(!1),this.h()},l(i){e=v(i,"P",{class:!0});var f=w(e);l=v(f,"SPAN",{class:!0}),w(l).forEach(_),t=V(f,"$"),a=L(f,!1),f.forEach(_),this.h()},h(){p(l,"class","dots svelte-1wkflka"),a.a=null,p(e,"class","price svelte-1wkflka")},m(i,f){g(i,e,f),b(e,l),b(e,t),a.m(o,e)},p(i,f){var r;f&1&&o!==(o=((r=i[5])==null?void 0:r.trim())+"")&&a.p(o)},d(i){i&&_(e)}}}function J(n){let e,l;function t(s,i){return s[1]?oe:fe}let a=t(n),o=a(n);return{c(){e=d("div"),o.c(),l=E(),this.h()},l(s){e=v(s,"DIV",{class:!0});var i=w(e);o.l(i),l=D(i),i.forEach(_),this.h()},h(){p(e,"class","item svelte-1wkflka"),k(e,"header",n[6]),k(e,"note",n[7]),k(e,"noDetail",!n[4])},m(s,i){g(s,e,i),o.m(e,null),b(e,l)},p(s,i){a===(a=t(s))&&o?o.p(s,i):(o.d(1),o=a(s),o&&(o.c(),o.m(e,l))),i&1&&k(e,"header",s[6]),i&1&&k(e,"note",s[7]),i&1&&k(e,"noDetail",!s[4])},d(s){s&&_(e),o.d()}}}function ce(n){let e,l=B(n[0]),t=[];for(let a=0;a<l.length;a+=1)t[a]=J(U(n,l,a));return{c(){e=d("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var o=w(e);for(let s=0;s<t.length;s+=1)t[s].l(o);o.forEach(_),this.h()},h(){p(e,"class","items svelte-1wkflka"),k(e,"web",n[1])},m(a,o){g(a,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(a,[o]){if(o&7){l=B(a[0]);let s;for(s=0;s<l.length;s+=1){const i=U(a,l,s);t[s]?t[s].p(i,o):(t[s]=J(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}o&2&&k(e,"web",a[1])},i:j,o:j,d(a){a&&_(e),x(t,a)}}}function ue(n,e,l){let{data:t}=e,{web:a}=e;function o(s){return re(ne(s.trim()))}return n.$$set=s=>{"data"in s&&l(0,t=s.data),"web"in s&&l(1,a=s.web)},[t,a,o]}class me extends X{constructor(e){super(),Y(this,e,ue,ce,W,{data:0,web:1})}}function K(n){let e,l=`<p class="svelte-1x71rbw">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=d("section"),e.innerHTML=l,this.h()},l(t){e=v(t,"SECTION",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-6x1dkk"&&(e.innerHTML=l),this.h()},h(){p(e,"class","allergy svelte-1x71rbw")},m(t,a){g(t,e,a)},d(t){t&&_(e)}}}function R(n){let e,l,t,a,o,s,i,f='<img src="/assets/images/dimitri.png" alt="tk" class="svelte-1x71rbw"/> <img src="/assets/images/kosta.png" alt="tk" class="svelte-1x71rbw"/>';return{c(){e=d("img"),t=E(),a=d("img"),s=E(),i=d("div"),i.innerHTML=f,this.h()},l(r){e=v(r,"IMG",{class:!0,src:!0,alt:!0}),t=D(r),a=v(r,"IMG",{class:!0,src:!0,alt:!0}),s=D(r),i=v(r,"DIV",{class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1qocma3"&&(i.innerHTML=f),this.h()},h(){p(e,"class","skate svelte-1x71rbw"),G(e.src,l="/assets/images/skate.gif")||p(e,"src",l),p(e,"alt","tk"),k(e,"visible",n[5][0]),p(a,"class","steve svelte-1x71rbw"),G(a.src,o="/assets/images/steve.png")||p(a,"src",o),p(a,"alt","tk"),k(a,"visible",n[5][1]),p(i,"class","brothers svelte-1x71rbw"),k(i,"visible",n[5][2])},m(r,u){g(r,e,u),g(r,t,u),g(r,a,u),g(r,s,u),g(r,i,u)},p(r,u){u&32&&k(e,"visible",r[5][0]),u&32&&k(a,"visible",r[5][1]),u&32&&k(i,"visible",r[5][2])},d(r){r&&(_(e),_(t),_(a),_(s),_(i))}}}function he(n){let e,l,t,a,o,s;t=new me({props:{web:n[0],data:n[2]}});let i=!n[0]&&!n[1]&&K(),f=!n[0]&&R(n);return{c(){e=d("div"),l=d("section"),ee(t.$$.fragment),a=E(),i&&i.c(),o=E(),f&&f.c(),this.h()},l(r){e=v(r,"DIV",{style:!0,class:!0});var u=w(e);l=v(u,"SECTION",{class:!0});var c=w(l);te(t.$$.fragment,c),c.forEach(_),a=D(u),i&&i.l(u),o=D(u),f&&f.l(u),u.forEach(_),this.h()},h(){p(l,"class","mains svelte-1x71rbw"),T(e,"--scale",n[3]),T(e,"--scale-detail",n[4]),p(e,"class","svelte-1x71rbw"),k(e,"drinks",n[1]),k(e,"web",n[0])},m(r,u){g(r,e,u),b(e,l),le(t,l,null),b(e,a),i&&i.m(e,null),b(e,o),f&&f.m(e,null),s=!0},p(r,[u]){const c={};u&1&&(c.web=r[0]),u&4&&(c.data=r[2]),t.$set(c),!r[0]&&!r[1]?i||(i=K(),i.c(),i.m(e,o)):i&&(i.d(1),i=null),r[0]?f&&(f.d(1),f=null):f?f.p(r,u):(f=R(r),f.c(),f.m(e,null)),(!s||u&8)&&T(e,"--scale",r[3]),(!s||u&16)&&T(e,"--scale-detail",r[4]),(!s||u&2)&&k(e,"drinks",r[1]),(!s||u&1)&&k(e,"web",r[0])},i(r){s||(se(t.$$.fragment,r),s=!0)},o(r){ae(t.$$.fragment,r),s=!1},d(r){r&&_(e),ie(t),i&&i.d(),f&&f.d()}}}function _e(n,e,l){let{web:t}=e,{items:a}=e,{drinks:o}=e,s=[],i=1,f=1,r=[!1,!1,!1],u=[930,3e3,4500];function c(){const h=Math.floor(Math.random()*r.length);l(5,r[h]=!0,r),setTimeout(()=>{l(5,r[h]=!1,r)},u[h])}function m(h){l(2,s=h.filter(M=>M.type==="item"||M.type==="header"||M.type==="note").map(M=>{var P;return{...M,header:M.type==="header",note:M.type==="note",price:(P=M.price)==null?void 0:P.replace(" per person","<span class=per>per person</span>")}}));const N=1-Math.max(0,s.length-8)*.07;l(3,i=t?1:N),l(4,f=t?1:N);const q=Q(s.map(M=>M.name.length)),A=Q(s.map(M=>{var P;return((P=M.detail)==null?void 0:P.length)||0}));q>20&&l(3,i=Math.min(i,t?.8:20/q)),A>40&&l(4,f=Math.min(f,t?.9:40/A)),l(3,i=Math.max(i,o?.55:.6)),l(4,f=Math.max(f,o?.7:.5))}return n.$$set=h=>{"web"in h&&l(0,t=h.web),"items"in h&&l(6,a=h.items),"drinks"in h&&l(1,o=h.drinks)},n.$$.update=()=>{n.$$.dirty&64&&m(a)},[t,o,s,i,f,r,a,c]}class ge extends X{constructor(e){super(),Y(this,e,_e,he,W,{web:0,items:6,drinks:1,egg:7})}get egg(){return this.$$.ctx[7]}}export{ge as M,ke as l};
