import{s as Z,n as j,A as G}from"./scheduler.37zBBjGX.js";import{S as $,i as x,h as d,k as g,l as b,f as _,r as p,E as v,d as k,w as le,s as E,b as I,o as w,j as T,H as C,u as J,n as H,F as N,p as ee,c as se,a as ae,y as P,m as ne,t as ie,e as re,g as fe,q as te}from"./index.DLdBAJEO.js";import{e as F}from"./transform.Dh1RLYvp.js";function Q(i,e){let l;if(e===void 0)for(const t of i)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let s of i)(s=e(s,++t,i))!=null&&(l<s||l===void 0&&s>=s)&&(l=s)}return l}let z;const L=()=>{if(z!==void 0)return z;try{const i=window.localStorage,e="__storage_test__";i.setItem(e,e),i.removeItem(e),z=!0}catch{z=!1}finally{return z}},oe=i=>{if(L())try{localStorage.removeItem(i)}catch(e){console.log(e)}},ce=(i,e)=>{if(L())try{localStorage.setItem(i,JSON.stringify(e))}catch(l){console.log(l)}},ue=i=>{if(L())try{return JSON.parse(localStorage.getItem(i))}catch(e){console.log(e);return}},R={set:ce,get:ue,remove:oe};async function Ie(i){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.name||n.detail&&n.section).length>0)i!==e.updated&&R.set("nocomply_menu",e);else throw new Error("no data")}catch(s){console.log(s==null?void 0:s.message),t=s==null?void 0:s.message,e=R.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function me(i){if(typeof i!="string")return"";let e="",l=!0;for(let t=0;t<i.length;t++)i[t]==='"'?(e+=l?"“":"”",l=!l):e+=i[t];return e}function he(i){return typeof i!="string"?"":i.replace(/'/g,"’")}function B(i,e,l){const t=i.slice();return t[3]=e[l].name,t[4]=e[l].detail,t[5]=e[l].price,t[6]=e[l].header,t[7]=e[l].note,t}function _e(i){let e,l,t=i[2](i[3])+"",s,o,a,n,f=i[2](i[4])+"",r,u,c=i[5]&&K(i);return{c(){e=d("div"),l=d("p"),s=T(t),o=E(),a=d("p"),n=new C(!1),r=E(),c&&c.c(),u=J(),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=b(e);l=g(h,"P",{class:!0});var M=b(l);s=H(M,t),M.forEach(_),o=I(h),a=g(h,"P",{class:!0});var D=b(a);n=N(D,!1),D.forEach(_),h.forEach(_),r=I(m),c&&c.l(m),u=J(),this.h()},h(){p(l,"class","name svelte-1wkflka"),n.a=null,p(a,"class","detail svelte-1wkflka"),p(e,"class","text svelte-1wkflka")},m(m,h){k(m,e,h),w(e,l),w(l,s),w(e,o),w(e,a),n.m(f,a),k(m,r,h),c&&c.m(m,h),k(m,u,h)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&ee(s,t),h&1&&f!==(f=m[2](m[4])+"")&&n.p(f),m[5]?c?c.p(m,h):(c=K(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(_(e),_(r),_(u)),c&&c.d(m)}}}function pe(i){let e,l,t=i[2](i[3])+"",s,o,a,n,f,r,u=i[2](i[4])+"",c=i[5]&&U(i);return{c(){e=d("div"),l=d("p"),s=T(t),o=E(),c&&c.c(),a=E(),n=d("div"),f=d("p"),r=new C(!1),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=b(e);l=g(h,"P",{class:!0});var M=b(l);s=H(M,t),M.forEach(_),o=I(h),c&&c.l(h),h.forEach(_),a=I(m),n=g(m,"DIV",{class:!0});var D=b(n);f=g(D,"P",{class:!0});var V=b(f);r=N(V,!1),V.forEach(_),D.forEach(_),this.h()},h(){p(l,"class","name svelte-1wkflka"),p(e,"class","top svelte-1wkflka"),r.a=null,p(f,"class","detail svelte-1wkflka"),p(n,"class","bottom")},m(m,h){k(m,e,h),w(e,l),w(l,s),w(e,o),c&&c.m(e,null),k(m,a,h),k(m,n,h),w(n,f),r.m(u,f)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&ee(s,t),m[5]?c?c.p(m,h):(c=U(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null),h&1&&u!==(u=m[2](m[4])+"")&&r.p(u)},d(m){m&&(_(e),_(a),_(n)),c&&c.d()}}}function K(i){var a;let e,l,t,s,o=((a=i[5])==null?void 0:a.trim())+"";return{c(){e=d("p"),l=d("span"),t=T("$"),s=new C(!1),this.h()},l(n){e=g(n,"P",{class:!0});var f=b(e);l=g(f,"SPAN",{class:!0}),b(l).forEach(_),t=H(f,"$"),s=N(f,!1),f.forEach(_),this.h()},h(){p(l,"class","dots svelte-1wkflka"),s.a=null,p(e,"class","price svelte-1wkflka")},m(n,f){k(n,e,f),w(e,l),w(e,t),s.m(o,e)},p(n,f){var r;f&1&&o!==(o=((r=n[5])==null?void 0:r.trim())+"")&&s.p(o)},d(n){n&&_(e)}}}function U(i){var a;let e,l,t,s,o=((a=i[5])==null?void 0:a.trim())+"";return{c(){e=d("p"),l=d("span"),t=T("$"),s=new C(!1),this.h()},l(n){e=g(n,"P",{class:!0});var f=b(e);l=g(f,"SPAN",{class:!0}),b(l).forEach(_),t=H(f,"$"),s=N(f,!1),f.forEach(_),this.h()},h(){p(l,"class","dots svelte-1wkflka"),s.a=null,p(e,"class","price svelte-1wkflka")},m(n,f){k(n,e,f),w(e,l),w(e,t),s.m(o,e)},p(n,f){var r;f&1&&o!==(o=((r=n[5])==null?void 0:r.trim())+"")&&s.p(o)},d(n){n&&_(e)}}}function W(i){let e,l;function t(a,n){return a[1]?pe:_e}let s=t(i),o=s(i);return{c(){e=d("div"),o.c(),l=E(),this.h()},l(a){e=g(a,"DIV",{class:!0});var n=b(e);o.l(n),l=I(n),n.forEach(_),this.h()},h(){p(e,"class","item svelte-1wkflka"),v(e,"header",i[6]),v(e,"note",i[7]),v(e,"noDetail",!i[4])},m(a,n){k(a,e,n),o.m(e,null),w(e,l)},p(a,n){s===(s=t(a))&&o?o.p(a,n):(o.d(1),o=s(a),o&&(o.c(),o.m(e,l))),n&1&&v(e,"header",a[6]),n&1&&v(e,"note",a[7]),n&1&&v(e,"noDetail",!a[4])},d(a){a&&_(e),o.d()}}}function de(i){let e,l=F(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=W(B(i,l,s));return{c(){e=d("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var o=b(e);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(_),this.h()},h(){p(e,"class","items svelte-1wkflka"),v(e,"web",i[1])},m(s,o){k(s,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[o]){if(o&7){l=F(s[0]);let a;for(a=0;a<l.length;a+=1){const n=B(s,l,a);t[a]?t[a].p(n,o):(t[a]=W(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}o&2&&v(e,"web",s[1])},i:j,o:j,d(s){s&&_(e),le(t,s)}}}function ge(i,e,l){let{data:t}=e,{web:s}=e;function o(a){return he(me(a.trim()))}return i.$$set=a=>{"data"in a&&l(0,t=a.data),"web"in a&&l(1,s=a.web)},[t,s,o]}class ve extends ${constructor(e){super(),x(this,e,ge,de,Z,{data:0,web:1})}}function X(i){let e,l=`<p class="svelte-1fyzpga">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=d("section"),e.innerHTML=l,this.h()},l(t){e=g(t,"SECTION",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-6x1dkk"&&(e.innerHTML=l),this.h()},h(){p(e,"class","allergy svelte-1fyzpga")},m(t,s){k(t,e,s)},d(t){t&&_(e)}}}function Y(i){let e,l,t,s,o,a,n,f='<img src="/assets/images/dimitri.png" alt="tk" class="svelte-1fyzpga"/> <img src="/assets/images/kosta.png" alt="tk" class="svelte-1fyzpga"/>';return{c(){e=d("img"),t=E(),s=d("img"),a=E(),n=d("div"),n.innerHTML=f,this.h()},l(r){e=g(r,"IMG",{class:!0,src:!0,alt:!0}),t=I(r),s=g(r,"IMG",{class:!0,src:!0,alt:!0}),a=I(r),n=g(r,"DIV",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1qocma3"&&(n.innerHTML=f),this.h()},h(){p(e,"class","skate svelte-1fyzpga"),G(e.src,l="/assets/images/skate.gif")||p(e,"src",l),p(e,"alt","tk"),v(e,"visible",i[5][0]),p(s,"class","steve svelte-1fyzpga"),G(s.src,o="/assets/images/steve.png")||p(s,"src",o),p(s,"alt","tk"),v(s,"visible",i[5][1]),p(n,"class","brothers svelte-1fyzpga"),v(n,"visible",i[5][2])},m(r,u){k(r,e,u),k(r,t,u),k(r,s,u),k(r,a,u),k(r,n,u)},p(r,u){u&32&&v(e,"visible",r[5][0]),u&32&&v(s,"visible",r[5][1]),u&32&&v(n,"visible",r[5][2])},d(r){r&&(_(e),_(t),_(s),_(a),_(n))}}}function ke(i){let e,l,t,s,o,a;t=new ve({props:{web:i[0],data:i[2]}});let n=!i[0]&&!i[1]&&X(),f=!i[0]&&Y(i);return{c(){e=d("div"),l=d("section"),se(t.$$.fragment),s=E(),n&&n.c(),o=E(),f&&f.c(),this.h()},l(r){e=g(r,"DIV",{style:!0,class:!0});var u=b(e);l=g(u,"SECTION",{class:!0});var c=b(l);ae(t.$$.fragment,c),c.forEach(_),s=I(u),n&&n.l(u),o=I(u),f&&f.l(u),u.forEach(_),this.h()},h(){p(l,"class","mains svelte-1fyzpga"),P(e,"--scale",i[3]),P(e,"--scale-detail",i[4]),p(e,"class","svelte-1fyzpga"),v(e,"drinks",i[1]),v(e,"web",i[0])},m(r,u){k(r,e,u),w(e,l),ne(t,l,null),w(e,s),n&&n.m(e,null),w(e,o),f&&f.m(e,null),a=!0},p(r,[u]){const c={};u&1&&(c.web=r[0]),u&4&&(c.data=r[2]),t.$set(c),!r[0]&&!r[1]?n||(n=X(),n.c(),n.m(e,o)):n&&(n.d(1),n=null),r[0]?f&&(f.d(1),f=null):f?f.p(r,u):(f=Y(r),f.c(),f.m(e,null)),(!a||u&8)&&P(e,"--scale",r[3]),(!a||u&16)&&P(e,"--scale-detail",r[4]),(!a||u&2)&&v(e,"drinks",r[1]),(!a||u&1)&&v(e,"web",r[0])},i(r){a||(ie(t.$$.fragment,r),a=!0)},o(r){re(t.$$.fragment,r),a=!1},d(r){r&&_(e),fe(t),n&&n.d(),f&&f.d()}}}function we(i,e,l){let{web:t}=e,{items:s}=e,{drinks:o}=e,a=[],n=1,f=1,r=[!1,!1,!1],u=[930,3e3,4500];function c(){const h=Math.floor(Math.random()*r.length);l(5,r[h]=!0,r),setTimeout(()=>{l(5,r[h]=!1,r)},u[h])}function m(h){l(2,a=h.filter(y=>y.type==="item"||y.type==="header"||y.type==="note").map(y=>{var S;return{...y,header:y.type==="header",note:y.type==="note",price:(S=y.price)==null?void 0:S.replace(" per person","<span class=per>per person</span>")}}));const O=1-Math.max(0,a.length-8)*.07;l(3,n=t?1:O),l(4,f=t?1:O);const q=Q(a.map(y=>y.name.length)),A=Q(a.map(y=>{var S;return((S=y.detail)==null?void 0:S.length)||0}));q>20&&l(3,n=Math.min(n,t?.8:20/q)),A>40&&l(4,f=Math.min(f,t?.9:40/A)),l(3,n=Math.max(n,o?.55:.6)),l(4,f=Math.max(f,o?.7:.5))}return i.$$set=h=>{"web"in h&&l(0,t=h.web),"items"in h&&l(6,s=h.items),"drinks"in h&&l(1,o=h.drinks)},i.$$.update=()=>{i.$$.dirty&64&&m(s)},[t,o,a,n,f,r,s,c]}class Me extends ${constructor(e){super(),x(this,e,we,ke,Z,{web:0,items:6,drinks:1,egg:7})}get egg(){return this.$$.ctx[7]}}export{Me as M,Ie as l};
