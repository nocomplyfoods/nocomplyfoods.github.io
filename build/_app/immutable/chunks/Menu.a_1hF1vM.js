import{s as R,n as O}from"./scheduler.37zBBjGX.js";import{S as W,i as B,h as p,k as g,l as b,f as d,r as v,E as I,d as M,w as ae,j as A,s as P,H as z,n as J,b as j,F,o as _,p as G,y,c as ne,a as ie,m as re,t as C,z as ce,e as L,x as fe,g as oe,q as he}from"./index.DLdBAJEO.js";import{e as q}from"./transform.Dh1RLYvp.js";function X(n,e){let l;if(e===void 0)for(const t of n)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let s of n)(s=e(s,++t,n))!=null&&(l<s||l===void 0&&s>=s)&&(l=s)}return l}let V;const K=()=>{if(V!==void 0)return V;try{const n=window.localStorage,e="__storage_test__";n.setItem(e,e),n.removeItem(e),V=!0}catch{V=!1}finally{return V}},ue=n=>{if(K())try{localStorage.removeItem(n)}catch(e){console.log(e)}},me=(n,e)=>{if(K())try{localStorage.setItem(n,JSON.stringify(e))}catch(l){console.log(l)}},de=n=>{if(K())try{return JSON.parse(localStorage.getItem(n))}catch(e){console.log(e);return}},Y={set:me,get:de,remove:ue};async function ye(n){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(i=>i.item||i.detail&&i.section).length>0)n!==e.updated&&Y.set("nocomply_menu",e);else throw new Error("no data")}catch(s){console.log(s==null?void 0:s.message),t=s==null?void 0:s.message,e=Y.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function Z(n,e,l){const t=n.slice();return t[3]=e[l].item,t[4]=e[l].detail,t[5]=e[l].price,t[6]=e[l].header,t}function $(n){var a;let e,l,t,s,r=((a=n[5])==null?void 0:a.trim())+"";return{c(){e=p("p"),l=p("span"),t=A("$"),s=new z(!1),this.h()},l(i){e=g(i,"P",{class:!0});var o=b(e);l=g(o,"SPAN",{class:!0}),b(l).forEach(d),t=J(o,"$"),s=F(o,!1),o.forEach(d),this.h()},h(){v(l,"class","dots svelte-1sf4lht"),s.a=null,v(e,"class","price svelte-1sf4lht")},m(i,o){M(i,e,o),_(e,l),_(e,t),s.m(r,e)},p(i,o){var c;o&1&&r!==(r=((c=i[5])==null?void 0:c.trim())+"")&&s.p(r)},d(i){i&&d(e)}}}function x(n){var S,N;let e,l,t,s=((S=n[3])==null?void 0:S.trim())+"",r,a,i,o,c=((N=n[4])==null?void 0:N.trim())+"",f,u,h=n[5]&&$(n);return{c(){e=p("div"),l=p("div"),t=p("p"),r=A(s),a=P(),i=p("p"),o=new z(!1),f=P(),h&&h.c(),u=P(),this.h()},l(m){e=g(m,"DIV",{class:!0});var w=b(e);l=g(w,"DIV",{class:!0});var k=b(l);t=g(k,"P",{class:!0});var D=b(t);r=J(D,s),D.forEach(d),a=j(k),i=g(k,"P",{class:!0});var H=b(i);o=F(H,!1),H.forEach(d),k.forEach(d),f=j(w),h&&h.l(w),u=j(w),w.forEach(d),this.h()},h(){v(t,"class","name svelte-1sf4lht"),o.a=null,v(i,"class","detail svelte-1sf4lht"),v(l,"class","text svelte-1sf4lht"),v(e,"class","item haha svelte-1sf4lht"),I(e,"header",n[6]),I(e,"noDetail",!n[4])},m(m,w){M(m,e,w),_(e,l),_(l,t),_(t,r),_(l,a),_(l,i),o.m(c,i),_(e,f),h&&h.m(e,null),_(e,u)},p(m,w){var k,D;w&1&&s!==(s=((k=m[3])==null?void 0:k.trim())+"")&&G(r,s),w&1&&c!==(c=((D=m[4])==null?void 0:D.trim())+"")&&o.p(c),m[5]?h?h.p(m,w):(h=$(m),h.c(),h.m(e,u)):h&&(h.d(1),h=null),w&1&&I(e,"header",m[6]),w&1&&I(e,"noDetail",!m[4])},d(m){m&&d(e),h&&h.d()}}}function _e(n){let e,l=q(n[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=x(Z(n,l,s));return{c(){e=p("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var r=b(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){v(e,"class","items svelte-1sf4lht"),I(e,"tuck",n[1])},m(s,r){M(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&1){l=q(s[0]);let a;for(a=0;a<l.length;a+=1){const i=Z(s,l,a);t[a]?t[a].p(i,r):(t[a]=x(i),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&2&&I(e,"tuck",s[1])},i:O,o:O,d(s){s&&d(e),ae(t,s)}}}function pe(n,e,l){let t,{data:s}=e,{web:r}=e;return n.$$set=a=>{"data"in a&&l(0,s=a.data),"web"in a&&l(2,r=a.web)},n.$$.update=()=>{n.$$.dirty&4&&l(1,t=r)},[s,t,r]}class ge extends W{constructor(e){super(),B(this,e,pe,_e,R,{data:0,web:2})}}function ee(n,e,l){const t=n.slice();return t[4]=e[l].item,t[5]=e[l].price,t}function te(n){let e,l,t,s=n[4]+"",r,a,i,o,c=n[1]?"":`$${n[5]}`,f;return{c(){e=p("div"),l=p("div"),t=p("p"),r=A(s),a=P(),i=p("p"),o=new z(!1),f=P(),this.h()},l(u){e=g(u,"DIV",{class:!0});var h=b(e);l=g(h,"DIV",{class:!0});var S=b(l);t=g(S,"P",{class:!0});var N=b(t);r=J(N,s),N.forEach(d),S.forEach(d),a=j(h),i=g(h,"P",{class:!0});var m=b(i);o=F(m,!1),m.forEach(d),f=j(h),h.forEach(d),this.h()},h(){v(t,"class","name svelte-148rcsm"),v(l,"class","text"),o.a=null,v(i,"class","price svelte-148rcsm"),v(e,"class","item svelte-148rcsm")},m(u,h){M(u,e,h),_(e,l),_(l,t),_(t,r),_(e,a),_(e,i),o.m(c,i),_(e,f)},p(u,h){h&1&&s!==(s=u[4]+"")&&G(r,s),h&3&&c!==(c=u[1]?"":`$${u[5]}`)&&o.p(c)},d(u){u&&d(e)}}}function ve(n){let e,l=q(n[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=te(ee(n,l,s));return{c(){e=p("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0,style:!0});var r=b(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){v(e,"class","items svelte-148rcsm"),y(e,"--side-width",n[3]),y(e,"--shrink",n[2]===2?.75:1)},m(s,r){M(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&3){l=q(s[0]);let a;for(a=0;a<l.length;a+=1){const i=ee(s,l,a);t[a]?t[a].p(i,r):(t[a]=te(i),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&8&&y(e,"--side-width",s[3]),r&4&&y(e,"--shrink",s[2]===2?.75:1)},i:O,o:O,d(s){s&&d(e),ae(t,s)}}}function we(n,e,l){let t,s,{data:r}=e,{uniform:a}=e;return n.$$set=i=>{"data"in i&&l(0,r=i.data),"uniform"in i&&l(1,a=i.uniform)},n.$$.update=()=>{n.$$.dirty&1&&l(2,t=r.length>4?2:1),n.$$.dirty&5&&l(3,s=r.length?`${Math.floor(1/Math.ceil(r.length/t)*100)}%`:"none")},[r,a,t,s]}class be extends W{constructor(e){super(),B(this,e,we,ve,R,{data:0,uniform:1})}}function se(n){let e,l,t,s,r=n[6]?` $${n[7]}`:"",a,i,o,c;return o=new be({props:{data:n[3],uniform:n[6]}}),{c(){e=p("section"),l=p("p"),t=new z(!1),s=p("span"),a=A(r),i=P(),ne(o.$$.fragment),this.h()},l(f){e=g(f,"SECTION",{class:!0});var u=b(e);l=g(u,"P",{class:!0});var h=b(l);t=F(h,!1),s=g(h,"SPAN",{class:!0});var S=b(s);a=J(S,r),S.forEach(d),h.forEach(d),i=j(u),ie(o.$$.fragment,u),u.forEach(d),this.h()},h(){t.a=s,v(s,"class","price"),v(l,"class","title svelte-d4b8jf"),v(e,"class","sides svelte-d4b8jf")},m(f,u){M(f,e,u),_(e,l),t.m(n[8],l),_(l,s),_(s,a),_(e,i),re(o,e,null),c=!0},p(f,u){(!c||u&256)&&t.p(f[8]),(!c||u&192)&&r!==(r=f[6]?` $${f[7]}`:"")&&G(a,r);const h={};u&8&&(h.data=f[3]),u&64&&(h.uniform=f[6]),o.$set(h)},i(f){c||(C(o.$$.fragment,f),c=!0)},o(f){L(o.$$.fragment,f),c=!1},d(f){f&&d(e),oe(o)}}}function le(n){let e,l=`<p class="svelte-d4b8jf">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=p("section"),e.innerHTML=l,this.h()},l(t){e=g(t,"SECTION",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-1stgzhj"&&(e.innerHTML=l),this.h()},h(){v(e,"class","allergy svelte-d4b8jf"),I(e,"sides",n[1])},m(t,s){M(t,e,s)},p(t,s){s&2&&I(e,"sides",t[1])},d(t){t&&d(e)}}}function Ee(n){let e,l,t,s,r,a;t=new ge({props:{web:n[0],data:n[2]}});let i=n[1]&&se(n),o=!n[0]&&le(n);return{c(){e=p("div"),l=p("section"),ne(t.$$.fragment),s=P(),i&&i.c(),r=P(),o&&o.c(),this.h()},l(c){e=g(c,"DIV",{style:!0,class:!0});var f=b(e);l=g(f,"SECTION",{class:!0});var u=b(l);ie(t.$$.fragment,u),u.forEach(d),s=j(f),i&&i.l(f),r=j(f),o&&o.l(f),f.forEach(d),this.h()},h(){v(l,"class","mains svelte-d4b8jf"),y(e,"--scale",n[4]),y(e,"--scale-detail",n[5]),v(e,"class","svelte-d4b8jf"),I(e,"web",n[0])},m(c,f){M(c,e,f),_(e,l),re(t,l,null),_(e,s),i&&i.m(e,null),_(e,r),o&&o.m(e,null),a=!0},p(c,[f]){const u={};f&1&&(u.web=c[0]),f&4&&(u.data=c[2]),t.$set(u),c[1]?i?(i.p(c,f),f&2&&C(i,1)):(i=se(c),i.c(),C(i,1),i.m(e,r)):i&&(ce(),L(i,1,1,()=>{i=null}),fe()),c[0]?o&&(o.d(1),o=null):o?o.p(c,f):(o=le(c),o.c(),o.m(e,null)),(!a||f&16)&&y(e,"--scale",c[4]),(!a||f&32)&&y(e,"--scale-detail",c[5]),(!a||f&1)&&I(e,"web",c[0])},i(c){a||(C(t.$$.fragment,c),C(i),a=!0)},o(c){L(t.$$.fragment,c),L(i),a=!1},d(c){c&&d(e),oe(t),i&&i.d(),o&&o.d()}}}function ke(n,e,l){let{web:t}=e,{items:s}=e,r,a=[],i=[],o=1,c=1,f=!1,u,h="sides";function S(m){const w=m.map(D=>D.section),k=[...new Set(w)];k.length===2?l(8,h="Apps & Sides"):k.length===1?l(8,h=`${k[0]}s`):l(8,h="Sides")}function N(m){l(2,a=m.filter(E=>E.section==="main"||E.section==="header").map(E=>{var T;return{...E,header:E.section==="header",price:(T=E.price)==null?void 0:T.replace(" per person","<span class='per'>per person</span>")}})),l(3,i=m.filter(E=>E.section==="side"||E.section==="app"||E.section==="dessert")),l(1,r=i.length>0);const w=r?5:8,k=Math.max(0,a.length-w),D=r?.065:.06,H=.05;l(4,o=t?1:1-k*D),l(5,c=t?1:1-k*H);const Q=X(a.map(E=>E.item.length)),U=X(a.map(E=>{var T;return((T=E.detail)==null?void 0:T.length)||0}));o>.9&&Q>20&&l(4,o=t?.9:20/Q),c>.9&&U>40&&(t||l(5,c=44/U)),r&&(S(i),l(7,u=i[0].price),l(6,f=i.every(E=>E.price===u)))}return n.$$set=m=>{"web"in m&&l(0,t=m.web),"items"in m&&l(9,s=m.items)},n.$$.update=()=>{n.$$.dirty&512&&N(s)},[t,r,a,i,o,c,f,u,h,s]}class Pe extends W{constructor(e){super(),B(this,e,ke,Ee,R,{web:0,items:9})}}export{Pe as M,ye as l};
