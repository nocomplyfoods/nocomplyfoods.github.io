import{s as R,n as q}from"./scheduler.37zBBjGX.js";import{S as W,i as B,h as v,k as g,l as w,f as d,r as b,E as I,d as y,w as ne,s as D,b as P,o as p,j as N,H as V,u as U,n as T,F as C,p as F,y as z,c as ie,a as re,m as oe,t as O,z as ue,e as A,x as he,g as fe,q as me}from"./index.DLdBAJEO.js";import{e as J}from"./transform.Dh1RLYvp.js";function X(i,e){let l;if(e===void 0)for(const t of i)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let s of i)(s=e(s,++t,i))!=null&&(l<s||l===void 0&&s>=s)&&(l=s)}return l}let L;const G=()=>{if(L!==void 0)return L;try{const i=window.localStorage,e="__storage_test__";i.setItem(e,e),i.removeItem(e),L=!0}catch{L=!1}finally{return L}},de=i=>{if(G())try{localStorage.removeItem(i)}catch(e){console.log(e)}},_e=(i,e)=>{if(G())try{localStorage.setItem(i,JSON.stringify(e))}catch(l){console.log(l)}},pe=i=>{if(G())try{return JSON.parse(localStorage.getItem(i))}catch(e){console.log(e);return}},Y={set:_e,get:pe,remove:de};async function Me(i){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.item||n.detail&&n.section).length>0)i!==e.updated&&Y.set("nocomply_menu",e);else throw new Error("no data")}catch(s){console.log(s==null?void 0:s.message),t=s==null?void 0:s.message,e=Y.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function Z(i,e,l){const t=i.slice();return t[2]=e[l].item,t[3]=e[l].detail,t[4]=e[l].price,t[5]=e[l].header,t}function ve(i){var _,S;let e,l,t=((_=i[2])==null?void 0:_.trim())+"",s,r,a,n,o=((S=i[3])==null?void 0:S.trim())+"",c,u,f=i[4]&&$(i);return{c(){e=v("div"),l=v("p"),s=N(t),r=D(),a=v("p"),n=new V(!1),c=D(),f&&f.c(),u=U(),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=w(e);l=g(h,"P",{class:!0});var j=w(l);s=T(j,t),j.forEach(d),r=P(h),a=g(h,"P",{class:!0});var k=w(a);n=C(k,!1),k.forEach(d),h.forEach(d),c=P(m),f&&f.l(m),u=U(),this.h()},h(){b(l,"class","name svelte-2lzjk9"),n.a=null,b(a,"class","detail svelte-2lzjk9"),b(e,"class","text svelte-2lzjk9")},m(m,h){y(m,e,h),p(e,l),p(l,s),p(e,r),p(e,a),n.m(o,a),y(m,c,h),f&&f.m(m,h),y(m,u,h)},p(m,h){var j,k;h&1&&t!==(t=((j=m[2])==null?void 0:j.trim())+"")&&F(s,t),h&1&&o!==(o=((k=m[3])==null?void 0:k.trim())+"")&&n.p(o),m[4]?f?f.p(m,h):(f=$(m),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(m){m&&(d(e),d(c),d(u)),f&&f.d(m)}}}function ge(i){var _,S;let e,l,t=((_=i[2])==null?void 0:_.trim())+"",s,r,a,n,o,c,u=((S=i[3])==null?void 0:S.trim())+"",f=i[4]&&x(i);return{c(){e=v("div"),l=v("p"),s=N(t),r=D(),f&&f.c(),a=D(),n=v("div"),o=v("p"),c=new V(!1),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=w(e);l=g(h,"P",{class:!0});var j=w(l);s=T(j,t),j.forEach(d),r=P(h),f&&f.l(h),h.forEach(d),a=P(m),n=g(m,"DIV",{class:!0});var k=w(n);o=g(k,"P",{class:!0});var M=w(o);c=C(M,!1),M.forEach(d),k.forEach(d),this.h()},h(){b(l,"class","name svelte-2lzjk9"),b(e,"class","top svelte-2lzjk9"),c.a=null,b(o,"class","detail svelte-2lzjk9"),b(n,"class","bottom")},m(m,h){y(m,e,h),p(e,l),p(l,s),p(e,r),f&&f.m(e,null),y(m,a,h),y(m,n,h),p(n,o),c.m(u,o)},p(m,h){var j,k;h&1&&t!==(t=((j=m[2])==null?void 0:j.trim())+"")&&F(s,t),m[4]?f?f.p(m,h):(f=x(m),f.c(),f.m(e,null)):f&&(f.d(1),f=null),h&1&&u!==(u=((k=m[3])==null?void 0:k.trim())+"")&&c.p(u)},d(m){m&&(d(e),d(a),d(n)),f&&f.d()}}}function $(i){var a;let e,l,t,s,r=((a=i[4])==null?void 0:a.trim())+"";return{c(){e=v("p"),l=v("span"),t=N("$"),s=new V(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);l=g(o,"SPAN",{class:!0}),w(l).forEach(d),t=T(o,"$"),s=C(o,!1),o.forEach(d),this.h()},h(){b(l,"class","dots svelte-2lzjk9"),s.a=null,b(e,"class","price svelte-2lzjk9")},m(n,o){y(n,e,o),p(e,l),p(e,t),s.m(r,e)},p(n,o){var c;o&1&&r!==(r=((c=n[4])==null?void 0:c.trim())+"")&&s.p(r)},d(n){n&&d(e)}}}function x(i){var a;let e,l,t,s,r=((a=i[4])==null?void 0:a.trim())+"";return{c(){e=v("p"),l=v("span"),t=N("$"),s=new V(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);l=g(o,"SPAN",{class:!0}),w(l).forEach(d),t=T(o,"$"),s=C(o,!1),o.forEach(d),this.h()},h(){b(l,"class","dots svelte-2lzjk9"),s.a=null,b(e,"class","price svelte-2lzjk9")},m(n,o){y(n,e,o),p(e,l),p(e,t),s.m(r,e)},p(n,o){var c;o&1&&r!==(r=((c=n[4])==null?void 0:c.trim())+"")&&s.p(r)},d(n){n&&d(e)}}}function ee(i){let e,l;function t(a,n){return a[1]?ge:ve}let s=t(i),r=s(i);return{c(){e=v("div"),r.c(),l=D(),this.h()},l(a){e=g(a,"DIV",{class:!0});var n=w(e);r.l(n),l=P(n),n.forEach(d),this.h()},h(){b(e,"class","item svelte-2lzjk9"),I(e,"header",i[5]),I(e,"noDetail",!i[3])},m(a,n){y(a,e,n),r.m(e,null),p(e,l)},p(a,n){s===(s=t(a))&&r?r.p(a,n):(r.d(1),r=s(a),r&&(r.c(),r.m(e,l))),n&1&&I(e,"header",a[5]),n&1&&I(e,"noDetail",!a[3])},d(a){a&&d(e),r.d()}}}function be(i){let e,l=J(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=ee(Z(i,l,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var r=w(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){b(e,"class","items svelte-2lzjk9"),I(e,"web",i[1])},m(s,r){y(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&3){l=J(s[0]);let a;for(a=0;a<l.length;a+=1){const n=Z(s,l,a);t[a]?t[a].p(n,r):(t[a]=ee(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&2&&I(e,"web",s[1])},i:q,o:q,d(s){s&&d(e),ne(t,s)}}}function we(i,e,l){let{data:t}=e,{web:s}=e;return i.$$set=r=>{"data"in r&&l(0,t=r.data),"web"in r&&l(1,s=r.web)},[t,s]}class ke extends W{constructor(e){super(),B(this,e,we,be,R,{data:0,web:1})}}function te(i,e,l){const t=i.slice();return t[4]=e[l].item,t[5]=e[l].price,t}function le(i){let e,l,t,s=i[4]+"",r,a,n,o,c=i[1]?"":`$${i[5]}`,u;return{c(){e=v("div"),l=v("div"),t=v("p"),r=N(s),a=D(),n=v("p"),o=new V(!1),u=D(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=w(e);l=g(_,"DIV",{class:!0});var S=w(l);t=g(S,"P",{class:!0});var m=w(t);r=T(m,s),m.forEach(d),S.forEach(d),a=P(_),n=g(_,"P",{class:!0});var h=w(n);o=C(h,!1),h.forEach(d),u=P(_),_.forEach(d),this.h()},h(){b(t,"class","name svelte-148rcsm"),b(l,"class","text"),o.a=null,b(n,"class","price svelte-148rcsm"),b(e,"class","item svelte-148rcsm")},m(f,_){y(f,e,_),p(e,l),p(l,t),p(t,r),p(e,a),p(e,n),o.m(c,n),p(e,u)},p(f,_){_&1&&s!==(s=f[4]+"")&&F(r,s),_&3&&c!==(c=f[1]?"":`$${f[5]}`)&&o.p(c)},d(f){f&&d(e)}}}function Ee(i){let e,l=J(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=le(te(i,l,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0,style:!0});var r=w(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){b(e,"class","items svelte-148rcsm"),z(e,"--side-width",i[3]),z(e,"--shrink",i[2]===2?.75:1)},m(s,r){y(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&3){l=J(s[0]);let a;for(a=0;a<l.length;a+=1){const n=te(s,l,a);t[a]?t[a].p(n,r):(t[a]=le(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&8&&z(e,"--side-width",s[3]),r&4&&z(e,"--shrink",s[2]===2?.75:1)},i:q,o:q,d(s){s&&d(e),ne(t,s)}}}function je(i,e,l){let t,s,{data:r}=e,{uniform:a}=e;return i.$$set=n=>{"data"in n&&l(0,r=n.data),"uniform"in n&&l(1,a=n.uniform)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.length>4?2:1),i.$$.dirty&5&&l(3,s=r.length?`${Math.floor(1/Math.ceil(r.length/t)*100)}%`:"none")},[r,a,t,s]}class ye extends W{constructor(e){super(),B(this,e,je,Ee,R,{data:0,uniform:1})}}function se(i){let e,l,t,s,r=i[6]?` $${i[7]}`:"",a,n,o,c;return o=new ye({props:{data:i[3],uniform:i[6]}}),{c(){e=v("section"),l=v("p"),t=new V(!1),s=v("span"),a=N(r),n=D(),ie(o.$$.fragment),this.h()},l(u){e=g(u,"SECTION",{class:!0});var f=w(e);l=g(f,"P",{class:!0});var _=w(l);t=C(_,!1),s=g(_,"SPAN",{class:!0});var S=w(s);a=T(S,r),S.forEach(d),_.forEach(d),n=P(f),re(o.$$.fragment,f),f.forEach(d),this.h()},h(){t.a=s,b(s,"class","price"),b(l,"class","title svelte-d4b8jf"),b(e,"class","sides svelte-d4b8jf")},m(u,f){y(u,e,f),p(e,l),t.m(i[8],l),p(l,s),p(s,a),p(e,n),oe(o,e,null),c=!0},p(u,f){(!c||f&256)&&t.p(u[8]),(!c||f&192)&&r!==(r=u[6]?` $${u[7]}`:"")&&F(a,r);const _={};f&8&&(_.data=u[3]),f&64&&(_.uniform=u[6]),o.$set(_)},i(u){c||(O(o.$$.fragment,u),c=!0)},o(u){A(o.$$.fragment,u),c=!1},d(u){u&&d(e),fe(o)}}}function ae(i){let e,l=`<p class="svelte-d4b8jf">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=v("section"),e.innerHTML=l,this.h()},l(t){e=g(t,"SECTION",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1stgzhj"&&(e.innerHTML=l),this.h()},h(){b(e,"class","allergy svelte-d4b8jf"),I(e,"sides",i[1])},m(t,s){y(t,e,s)},p(t,s){s&2&&I(e,"sides",t[1])},d(t){t&&d(e)}}}function Se(i){let e,l,t,s,r,a;t=new ke({props:{web:i[0],data:i[2]}});let n=i[1]&&se(i),o=!i[0]&&ae(i);return{c(){e=v("div"),l=v("section"),ie(t.$$.fragment),s=D(),n&&n.c(),r=D(),o&&o.c(),this.h()},l(c){e=g(c,"DIV",{style:!0,class:!0});var u=w(e);l=g(u,"SECTION",{class:!0});var f=w(l);re(t.$$.fragment,f),f.forEach(d),s=P(u),n&&n.l(u),r=P(u),o&&o.l(u),u.forEach(d),this.h()},h(){b(l,"class","mains svelte-d4b8jf"),z(e,"--scale",i[4]),z(e,"--scale-detail",i[5]),b(e,"class","svelte-d4b8jf"),I(e,"web",i[0])},m(c,u){y(c,e,u),p(e,l),oe(t,l,null),p(e,s),n&&n.m(e,null),p(e,r),o&&o.m(e,null),a=!0},p(c,[u]){const f={};u&1&&(f.web=c[0]),u&4&&(f.data=c[2]),t.$set(f),c[1]?n?(n.p(c,u),u&2&&O(n,1)):(n=se(c),n.c(),O(n,1),n.m(e,r)):n&&(ue(),A(n,1,1,()=>{n=null}),he()),c[0]?o&&(o.d(1),o=null):o?o.p(c,u):(o=ae(c),o.c(),o.m(e,null)),(!a||u&16)&&z(e,"--scale",c[4]),(!a||u&32)&&z(e,"--scale-detail",c[5]),(!a||u&1)&&I(e,"web",c[0])},i(c){a||(O(t.$$.fragment,c),O(n),a=!0)},o(c){A(t.$$.fragment,c),A(n),a=!1},d(c){c&&d(e),fe(t),n&&n.d(),o&&o.d()}}}function Ie(i,e,l){let{web:t}=e,{items:s}=e,r,a=[],n=[],o=1,c=1,u=!1,f,_="sides";function S(h){const j=h.map(M=>M.type),k=[...new Set(j)];k.length===2?l(8,_="Apps & Sides"):k.length===1?l(8,_=`${k[0]}s`):l(8,_="Sides")}function m(h){l(2,a=h.filter(E=>E.type==="main"||E.type==="header").map(E=>{var H;return{...E,header:E.type==="header",price:(H=E.price)==null?void 0:H.replace(" per person","<span class='per'>per person</span>")}})),l(3,n=h.filter(E=>E.type==="side"||E.type==="app"||E.type==="dessert")),l(1,r=n.length>0);const j=r?5:8,k=Math.max(0,a.length-j),M=r?.065:.06,ce=.07;l(4,o=t?1:1-k*M),l(5,c=t?1:1-k*ce);const K=X(a.map(E=>E.item.length)),Q=X(a.map(E=>{var H;return((H=E.detail)==null?void 0:H.length)||0}));o>.9&&K>20&&l(4,o=t?.9:20/K),c>.9&&Q>40&&(t||l(5,c=44/Q)),l(4,o=Math.max(o,.5)),l(5,c=Math.max(c,.5)),r&&(S(n),l(7,f=n[0].price),l(6,u=n.every(E=>E.price===f)))}return i.$$set=h=>{"web"in h&&l(0,t=h.web),"items"in h&&l(9,s=h.items)},i.$$.update=()=>{i.$$.dirty&512&&m(s)},[t,r,a,n,o,c,u,f,_,s]}class Ne extends W{constructor(e){super(),B(this,e,Ie,Se,R,{web:0,items:9})}}export{Ne as M,Me as l};
