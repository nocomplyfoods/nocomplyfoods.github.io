import{s as R,n as q}from"./scheduler.37zBBjGX.js";import{S as W,i as B,h as v,k as g,l as w,f as d,r as b,E as D,d as S,w as ne,s as P,b as y,o as p,j as N,H as V,u as U,n as T,F as C,p as F,y as z,c as ie,a as re,m as oe,t as O,z as ue,e as A,x as he,g as ce,q as me}from"./index.DLdBAJEO.js";import{e as J}from"./transform.Dh1RLYvp.js";function X(i,e){let l;if(e===void 0)for(const t of i)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let s of i)(s=e(s,++t,i))!=null&&(l<s||l===void 0&&s>=s)&&(l=s)}return l}let L;const G=()=>{if(L!==void 0)return L;try{const i=window.localStorage,e="__storage_test__";i.setItem(e,e),i.removeItem(e),L=!0}catch{L=!1}finally{return L}},de=i=>{if(G())try{localStorage.removeItem(i)}catch(e){console.log(e)}},_e=(i,e)=>{if(G())try{localStorage.setItem(i,JSON.stringify(e))}catch(l){console.log(l)}},pe=i=>{if(G())try{return JSON.parse(localStorage.getItem(i))}catch(e){console.log(e);return}},Y={set:_e,get:pe,remove:de};async function Me(i){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.item||n.detail&&n.section).length>0)i!==e.updated&&Y.set("nocomply_menu",e);else throw new Error("no data")}catch(s){console.log(s==null?void 0:s.message),t=s==null?void 0:s.message,e=Y.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function Z(i,e,l){const t=i.slice();return t[2]=e[l].item,t[3]=e[l].detail,t[4]=e[l].price,t[5]=e[l].header,t}function ve(i){var _,I;let e,l,t=((_=i[2])==null?void 0:_.trim())+"",s,r,a,n,o=((I=i[3])==null?void 0:I.trim())+"",f,u,c=i[4]&&$(i);return{c(){e=v("div"),l=v("p"),s=N(t),r=P(),a=v("p"),n=new V(!1),f=P(),c&&c.c(),u=U(),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=w(e);l=g(h,"P",{class:!0});var j=w(l);s=T(j,t),j.forEach(d),r=y(h),a=g(h,"P",{class:!0});var k=w(a);n=C(k,!1),k.forEach(d),h.forEach(d),f=y(m),c&&c.l(m),u=U(),this.h()},h(){b(l,"class","name svelte-2lzjk9"),n.a=null,b(a,"class","detail svelte-2lzjk9"),b(e,"class","text svelte-2lzjk9")},m(m,h){S(m,e,h),p(e,l),p(l,s),p(e,r),p(e,a),n.m(o,a),S(m,f,h),c&&c.m(m,h),S(m,u,h)},p(m,h){var j,k;h&1&&t!==(t=((j=m[2])==null?void 0:j.trim())+"")&&F(s,t),h&1&&o!==(o=((k=m[3])==null?void 0:k.trim())+"")&&n.p(o),m[4]?c?c.p(m,h):(c=$(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(d(e),d(f),d(u)),c&&c.d(m)}}}function ge(i){var _,I;let e,l,t=((_=i[2])==null?void 0:_.trim())+"",s,r,a,n,o,f,u=((I=i[3])==null?void 0:I.trim())+"",c=i[4]&&x(i);return{c(){e=v("div"),l=v("p"),s=N(t),r=P(),c&&c.c(),a=P(),n=v("div"),o=v("p"),f=new V(!1),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=w(e);l=g(h,"P",{class:!0});var j=w(l);s=T(j,t),j.forEach(d),r=y(h),c&&c.l(h),h.forEach(d),a=y(m),n=g(m,"DIV",{class:!0});var k=w(n);o=g(k,"P",{class:!0});var M=w(o);f=C(M,!1),M.forEach(d),k.forEach(d),this.h()},h(){b(l,"class","name svelte-2lzjk9"),b(e,"class","top svelte-2lzjk9"),f.a=null,b(o,"class","detail svelte-2lzjk9"),b(n,"class","bottom")},m(m,h){S(m,e,h),p(e,l),p(l,s),p(e,r),c&&c.m(e,null),S(m,a,h),S(m,n,h),p(n,o),f.m(u,o)},p(m,h){var j,k;h&1&&t!==(t=((j=m[2])==null?void 0:j.trim())+"")&&F(s,t),m[4]?c?c.p(m,h):(c=x(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null),h&1&&u!==(u=((k=m[3])==null?void 0:k.trim())+"")&&f.p(u)},d(m){m&&(d(e),d(a),d(n)),c&&c.d()}}}function $(i){var a;let e,l,t,s,r=((a=i[4])==null?void 0:a.trim())+"";return{c(){e=v("p"),l=v("span"),t=N("$"),s=new V(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);l=g(o,"SPAN",{class:!0}),w(l).forEach(d),t=T(o,"$"),s=C(o,!1),o.forEach(d),this.h()},h(){b(l,"class","dots svelte-2lzjk9"),s.a=null,b(e,"class","price svelte-2lzjk9")},m(n,o){S(n,e,o),p(e,l),p(e,t),s.m(r,e)},p(n,o){var f;o&1&&r!==(r=((f=n[4])==null?void 0:f.trim())+"")&&s.p(r)},d(n){n&&d(e)}}}function x(i){var a;let e,l,t,s,r=((a=i[4])==null?void 0:a.trim())+"";return{c(){e=v("p"),l=v("span"),t=N("$"),s=new V(!1),this.h()},l(n){e=g(n,"P",{class:!0});var o=w(e);l=g(o,"SPAN",{class:!0}),w(l).forEach(d),t=T(o,"$"),s=C(o,!1),o.forEach(d),this.h()},h(){b(l,"class","dots svelte-2lzjk9"),s.a=null,b(e,"class","price svelte-2lzjk9")},m(n,o){S(n,e,o),p(e,l),p(e,t),s.m(r,e)},p(n,o){var f;o&1&&r!==(r=((f=n[4])==null?void 0:f.trim())+"")&&s.p(r)},d(n){n&&d(e)}}}function ee(i){let e,l;function t(a,n){return a[1]?ge:ve}let s=t(i),r=s(i);return{c(){e=v("div"),r.c(),l=P(),this.h()},l(a){e=g(a,"DIV",{class:!0});var n=w(e);r.l(n),l=y(n),n.forEach(d),this.h()},h(){b(e,"class","item svelte-2lzjk9"),D(e,"header",i[5]),D(e,"noDetail",!i[3])},m(a,n){S(a,e,n),r.m(e,null),p(e,l)},p(a,n){s===(s=t(a))&&r?r.p(a,n):(r.d(1),r=s(a),r&&(r.c(),r.m(e,l))),n&1&&D(e,"header",a[5]),n&1&&D(e,"noDetail",!a[3])},d(a){a&&d(e),r.d()}}}function be(i){let e,l=J(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=ee(Z(i,l,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var r=w(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){b(e,"class","items svelte-2lzjk9"),D(e,"web",i[1])},m(s,r){S(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&3){l=J(s[0]);let a;for(a=0;a<l.length;a+=1){const n=Z(s,l,a);t[a]?t[a].p(n,r):(t[a]=ee(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&2&&D(e,"web",s[1])},i:q,o:q,d(s){s&&d(e),ne(t,s)}}}function we(i,e,l){let{data:t}=e,{web:s}=e;return i.$$set=r=>{"data"in r&&l(0,t=r.data),"web"in r&&l(1,s=r.web)},[t,s]}class ke extends W{constructor(e){super(),B(this,e,we,be,R,{data:0,web:1})}}function te(i,e,l){const t=i.slice();return t[4]=e[l].item,t[5]=e[l].price,t}function se(i){let e,l,t,s=i[4]+"",r,a,n,o,f=i[1]?"":`$${i[5]}`,u;return{c(){e=v("div"),l=v("div"),t=v("p"),r=N(s),a=P(),n=v("p"),o=new V(!1),u=P(),this.h()},l(c){e=g(c,"DIV",{class:!0});var _=w(e);l=g(_,"DIV",{class:!0});var I=w(l);t=g(I,"P",{class:!0});var m=w(t);r=T(m,s),m.forEach(d),I.forEach(d),a=y(_),n=g(_,"P",{class:!0});var h=w(n);o=C(h,!1),h.forEach(d),u=y(_),_.forEach(d),this.h()},h(){b(t,"class","name svelte-148rcsm"),b(l,"class","text"),o.a=null,b(n,"class","price svelte-148rcsm"),b(e,"class","item svelte-148rcsm")},m(c,_){S(c,e,_),p(e,l),p(l,t),p(t,r),p(e,a),p(e,n),o.m(f,n),p(e,u)},p(c,_){_&1&&s!==(s=c[4]+"")&&F(r,s),_&3&&f!==(f=c[1]?"":`$${c[5]}`)&&o.p(f)},d(c){c&&d(e)}}}function Ee(i){let e,l=J(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=se(te(i,l,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0,style:!0});var r=w(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(d),this.h()},h(){b(e,"class","items svelte-148rcsm"),z(e,"--side-width",i[3]),z(e,"--shrink",i[2]===2?.75:1)},m(s,r){S(s,e,r);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[r]){if(r&3){l=J(s[0]);let a;for(a=0;a<l.length;a+=1){const n=te(s,l,a);t[a]?t[a].p(n,r):(t[a]=se(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&8&&z(e,"--side-width",s[3]),r&4&&z(e,"--shrink",s[2]===2?.75:1)},i:q,o:q,d(s){s&&d(e),ne(t,s)}}}function je(i,e,l){let t,s,{data:r}=e,{uniform:a}=e;return i.$$set=n=>{"data"in n&&l(0,r=n.data),"uniform"in n&&l(1,a=n.uniform)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.length>4?2:1),i.$$.dirty&5&&l(3,s=r.length?`${Math.floor(1/Math.ceil(r.length/t)*100)}%`:"none")},[r,a,t,s]}class Se extends W{constructor(e){super(),B(this,e,je,Ee,R,{data:0,uniform:1})}}function le(i){let e,l,t,s,r=i[6]?` $${i[7]}`:"",a,n,o,f;return o=new Se({props:{data:i[3],uniform:i[6]}}),{c(){e=v("section"),l=v("p"),t=new V(!1),s=v("span"),a=N(r),n=P(),ie(o.$$.fragment),this.h()},l(u){e=g(u,"SECTION",{class:!0});var c=w(e);l=g(c,"P",{class:!0});var _=w(l);t=C(_,!1),s=g(_,"SPAN",{class:!0});var I=w(s);a=T(I,r),I.forEach(d),_.forEach(d),n=y(c),re(o.$$.fragment,c),c.forEach(d),this.h()},h(){t.a=s,b(s,"class","price"),b(l,"class","title svelte-d4b8jf"),b(e,"class","sides svelte-d4b8jf")},m(u,c){S(u,e,c),p(e,l),t.m(i[8],l),p(l,s),p(s,a),p(e,n),oe(o,e,null),f=!0},p(u,c){(!f||c&256)&&t.p(u[8]),(!f||c&192)&&r!==(r=u[6]?` $${u[7]}`:"")&&F(a,r);const _={};c&8&&(_.data=u[3]),c&64&&(_.uniform=u[6]),o.$set(_)},i(u){f||(O(o.$$.fragment,u),f=!0)},o(u){A(o.$$.fragment,u),f=!1},d(u){u&&d(e),ce(o)}}}function ae(i){let e,l=`<p class="svelte-d4b8jf">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=v("section"),e.innerHTML=l,this.h()},l(t){e=g(t,"SECTION",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1stgzhj"&&(e.innerHTML=l),this.h()},h(){b(e,"class","allergy svelte-d4b8jf"),D(e,"sides",i[1])},m(t,s){S(t,e,s)},p(t,s){s&2&&D(e,"sides",t[1])},d(t){t&&d(e)}}}function Ie(i){let e,l,t,s,r,a;t=new ke({props:{web:i[0],data:i[2]}});let n=i[1]&&le(i),o=!i[0]&&ae(i);return{c(){e=v("div"),l=v("section"),ie(t.$$.fragment),s=P(),n&&n.c(),r=P(),o&&o.c(),this.h()},l(f){e=g(f,"DIV",{style:!0,class:!0});var u=w(e);l=g(u,"SECTION",{class:!0});var c=w(l);re(t.$$.fragment,c),c.forEach(d),s=y(u),n&&n.l(u),r=y(u),o&&o.l(u),u.forEach(d),this.h()},h(){b(l,"class","mains svelte-d4b8jf"),z(e,"--scale",i[4]),z(e,"--scale-detail",i[5]),b(e,"class","svelte-d4b8jf"),D(e,"web",i[0])},m(f,u){S(f,e,u),p(e,l),oe(t,l,null),p(e,s),n&&n.m(e,null),p(e,r),o&&o.m(e,null),a=!0},p(f,[u]){const c={};u&1&&(c.web=f[0]),u&4&&(c.data=f[2]),t.$set(c),f[1]?n?(n.p(f,u),u&2&&O(n,1)):(n=le(f),n.c(),O(n,1),n.m(e,r)):n&&(ue(),A(n,1,1,()=>{n=null}),he()),f[0]?o&&(o.d(1),o=null):o?o.p(f,u):(o=ae(f),o.c(),o.m(e,null)),(!a||u&16)&&z(e,"--scale",f[4]),(!a||u&32)&&z(e,"--scale-detail",f[5]),(!a||u&1)&&D(e,"web",f[0])},i(f){a||(O(t.$$.fragment,f),O(n),a=!0)},o(f){A(t.$$.fragment,f),A(n),a=!1},d(f){f&&d(e),ce(t),n&&n.d(),o&&o.d()}}}function De(i,e,l){let{web:t}=e,{items:s}=e,r,a=[],n=[],o=1,f=1,u=!1,c,_="sides";function I(h){const j=h.map(M=>M.section),k=[...new Set(j)];k.length===2?l(8,_="Apps & Sides"):k.length===1?l(8,_=`${k[0]}s`):l(8,_="Sides")}function m(h){l(2,a=h.filter(E=>E.section==="main"||E.section==="header").map(E=>{var H;return{...E,header:E.section==="header",price:(H=E.price)==null?void 0:H.replace(" per person","<span class='per'>per person</span>")}})),l(3,n=h.filter(E=>E.section==="side"||E.section==="app"||E.section==="dessert")),l(1,r=n.length>0);const j=r?5:8,k=Math.max(0,a.length-j),M=r?.065:.06,fe=.07;l(4,o=t?1:1-k*M),l(5,f=t?1:1-k*fe);const K=X(a.map(E=>E.item.length)),Q=X(a.map(E=>{var H;return((H=E.detail)==null?void 0:H.length)||0}));o>.9&&K>20&&l(4,o=t?.9:20/K),f>.9&&Q>40&&(t||l(5,f=44/Q)),r&&(I(n),l(7,c=n[0].price),l(6,u=n.every(E=>E.price===c)))}return i.$$set=h=>{"web"in h&&l(0,t=h.web),"items"in h&&l(9,s=h.items)},i.$$.update=()=>{i.$$.dirty&512&&m(s)},[t,r,a,n,o,f,u,c,_,s]}class Ne extends W{constructor(e){super(),B(this,e,De,Ie,R,{web:0,items:9})}}export{Ne as M,Me as l};
