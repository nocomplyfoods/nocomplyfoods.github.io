import{s as Z,n as G,A as J}from"./scheduler.37zBBjGX.js";import{S as $,i as x,h as p,k as v,l as b,f as _,r as d,E as g,d as k,w as le,s as E,b as I,o as w,j as C,H,u as F,n as N,F as V,p as ee,c as se,a as ae,y as T,m as ne,t as ie,e as re,g as oe,q as te}from"./index.DLdBAJEO.js";import{e as Q}from"./transform.BpVA0IgQ.js";function R(i,e){let l;if(e===void 0)for(const t of i)t!=null&&(l<t||l===void 0&&t>=t)&&(l=t);else{let t=-1;for(let s of i)(s=e(s,++t,i))!=null&&(l<s||l===void 0&&s>=s)&&(l=s)}return l}let P;const O=()=>{if(P!==void 0)return P;try{const i=window.localStorage,e="__storage_test__";i.setItem(e,e),i.removeItem(e),P=!0}catch{P=!1}finally{return P}},fe=i=>{if(O())try{localStorage.removeItem(i)}catch(e){console.log(e)}},ce=(i,e)=>{if(O())try{localStorage.setItem(i,JSON.stringify(e))}catch(l){console.log(l)}},ue=i=>{if(O())try{return JSON.parse(localStorage.getItem(i))}catch(e){console.log(e);return}},z={set:ce,get:ue,remove:fe};async function Ie(i){let e,l,t;try{if(e=await(await fetch(`https://data.nocomplyfoods.com/menu.json?version=${Date.now()}`)).json(),e.items.filter(n=>n.name||n.detail&&n.section).length>0)i!==e.updated&&z.set("nocomply_menu",e);else throw new Error("no data")}catch(s){console.log(s==null?void 0:s.message),t=s==null?void 0:s.message,e=z.get("nocomply_menu"),l=!0}finally{return{data:e,backup:l,error:t}}}function me(i){if(typeof i!="string")return"";let e="",l=!0;for(let t=0;t<i.length;t++)i[t]==='"'?(e+=l?"“":"”",l=!l):e+=i[t];return e}function he(i){return typeof i!="string"?"":i.replace(/'/g,"’")}function B(i,e,l){const t=i.slice();return t[3]=e[l].name,t[4]=e[l].detail,t[5]=e[l].price,t[6]=e[l].header,t[7]=e[l].note,t}function _e(i){let e,l,t=i[2](i[3])+"",s,f,a,n,o=i[2](i[4])+"",r,u,c=i[5]&&K(i);return{c(){e=p("div"),l=p("p"),s=C(t),f=E(),a=p("p"),n=new H(!1),r=E(),c&&c.c(),u=F(),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);l=v(h,"P",{class:!0});var M=b(l);s=N(M,t),M.forEach(_),f=I(h),a=v(h,"P",{class:!0});var D=b(a);n=V(D,!1),D.forEach(_),h.forEach(_),r=I(m),c&&c.l(m),u=F(),this.h()},h(){d(l,"class","name svelte-1wkflka"),n.a=null,d(a,"class","detail svelte-1wkflka"),d(e,"class","text svelte-1wkflka")},m(m,h){k(m,e,h),w(e,l),w(l,s),w(e,f),w(e,a),n.m(o,a),k(m,r,h),c&&c.m(m,h),k(m,u,h)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&ee(s,t),h&1&&o!==(o=m[2](m[4])+"")&&n.p(o),m[5]?c?c.p(m,h):(c=K(m),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null)},d(m){m&&(_(e),_(r),_(u)),c&&c.d(m)}}}function de(i){let e,l,t=i[2](i[3])+"",s,f,a,n,o,r,u=i[2](i[4])+"",c=i[5]&&U(i);return{c(){e=p("div"),l=p("p"),s=C(t),f=E(),c&&c.c(),a=E(),n=p("div"),o=p("p"),r=new H(!1),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);l=v(h,"P",{class:!0});var M=b(l);s=N(M,t),M.forEach(_),f=I(h),c&&c.l(h),h.forEach(_),a=I(m),n=v(m,"DIV",{class:!0});var D=b(n);o=v(D,"P",{class:!0});var L=b(o);r=V(L,!1),L.forEach(_),D.forEach(_),this.h()},h(){d(l,"class","name svelte-1wkflka"),d(e,"class","top svelte-1wkflka"),r.a=null,d(o,"class","detail svelte-1wkflka"),d(n,"class","bottom")},m(m,h){k(m,e,h),w(e,l),w(l,s),w(e,f),c&&c.m(e,null),k(m,a,h),k(m,n,h),w(n,o),r.m(u,o)},p(m,h){h&1&&t!==(t=m[2](m[3])+"")&&ee(s,t),m[5]?c?c.p(m,h):(c=U(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null),h&1&&u!==(u=m[2](m[4])+"")&&r.p(u)},d(m){m&&(_(e),_(a),_(n)),c&&c.d()}}}function K(i){var a;let e,l,t,s,f=((a=i[5])==null?void 0:a.trim())+"";return{c(){e=p("p"),l=p("span"),t=C("$"),s=new H(!1),this.h()},l(n){e=v(n,"P",{class:!0});var o=b(e);l=v(o,"SPAN",{class:!0}),b(l).forEach(_),t=N(o,"$"),s=V(o,!1),o.forEach(_),this.h()},h(){d(l,"class","dots svelte-1wkflka"),s.a=null,d(e,"class","price svelte-1wkflka")},m(n,o){k(n,e,o),w(e,l),w(e,t),s.m(f,e)},p(n,o){var r;o&1&&f!==(f=((r=n[5])==null?void 0:r.trim())+"")&&s.p(f)},d(n){n&&_(e)}}}function U(i){var a;let e,l,t,s,f=((a=i[5])==null?void 0:a.trim())+"";return{c(){e=p("p"),l=p("span"),t=C("$"),s=new H(!1),this.h()},l(n){e=v(n,"P",{class:!0});var o=b(e);l=v(o,"SPAN",{class:!0}),b(l).forEach(_),t=N(o,"$"),s=V(o,!1),o.forEach(_),this.h()},h(){d(l,"class","dots svelte-1wkflka"),s.a=null,d(e,"class","price svelte-1wkflka")},m(n,o){k(n,e,o),w(e,l),w(e,t),s.m(f,e)},p(n,o){var r;o&1&&f!==(f=((r=n[5])==null?void 0:r.trim())+"")&&s.p(f)},d(n){n&&_(e)}}}function W(i){let e,l;function t(a,n){return a[1]?de:_e}let s=t(i),f=s(i);return{c(){e=p("div"),f.c(),l=E(),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);f.l(n),l=I(n),n.forEach(_),this.h()},h(){d(e,"class","item svelte-1wkflka"),g(e,"header",i[6]),g(e,"note",i[7]),g(e,"noDetail",!i[4])},m(a,n){k(a,e,n),f.m(e,null),w(e,l)},p(a,n){s===(s=t(a))&&f?f.p(a,n):(f.d(1),f=s(a),f&&(f.c(),f.m(e,l))),n&1&&g(e,"header",a[6]),n&1&&g(e,"note",a[7]),n&1&&g(e,"noDetail",!a[4])},d(a){a&&_(e),f.d()}}}function pe(i){let e,l=Q(i[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=W(B(i,l,s));return{c(){e=p("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var f=b(e);for(let a=0;a<t.length;a+=1)t[a].l(f);f.forEach(_),this.h()},h(){d(e,"class","items svelte-1wkflka"),g(e,"web",i[1])},m(s,f){k(s,e,f);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[f]){if(f&7){l=Q(s[0]);let a;for(a=0;a<l.length;a+=1){const n=B(s,l,a);t[a]?t[a].p(n,f):(t[a]=W(n),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}f&2&&g(e,"web",s[1])},i:G,o:G,d(s){s&&_(e),le(t,s)}}}function ve(i,e,l){let{data:t}=e,{web:s}=e;function f(a){return he(me(a.trim()))}return i.$$set=a=>{"data"in a&&l(0,t=a.data),"web"in a&&l(1,s=a.web)},[t,s,f]}class ge extends ${constructor(e){super(),x(this,e,ve,pe,Z,{data:0,web:1})}}function X(i){let e,l=`<p class="svelte-1x71rbw">Please inform us of any allergies. Consuming raw or undercooked meats,
				poultry, seafood, shellfish, or eggs may increase your risk of foodborne
				illness.</p>`;return{c(){e=p("section"),e.innerHTML=l,this.h()},l(t){e=v(t,"SECTION",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-6x1dkk"&&(e.innerHTML=l),this.h()},h(){d(e,"class","allergy svelte-1x71rbw")},m(t,s){k(t,e,s)},d(t){t&&_(e)}}}function Y(i){let e,l,t,s,f,a,n,o='<img src="/assets/images/dimitri.png" alt="tk" class="svelte-1x71rbw"/> <img src="/assets/images/kosta.png" alt="tk" class="svelte-1x71rbw"/>';return{c(){e=p("img"),t=E(),s=p("img"),a=E(),n=p("div"),n.innerHTML=o,this.h()},l(r){e=v(r,"IMG",{class:!0,src:!0,alt:!0}),t=I(r),s=v(r,"IMG",{class:!0,src:!0,alt:!0}),a=I(r),n=v(r,"DIV",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-1qocma3"&&(n.innerHTML=o),this.h()},h(){d(e,"class","skate svelte-1x71rbw"),J(e.src,l="/assets/images/skate.gif")||d(e,"src",l),d(e,"alt","tk"),g(e,"visible",i[5][0]),d(s,"class","steve svelte-1x71rbw"),J(s.src,f="/assets/images/steve.png")||d(s,"src",f),d(s,"alt","tk"),g(s,"visible",i[5][1]),d(n,"class","brothers svelte-1x71rbw"),g(n,"visible",i[5][2])},m(r,u){k(r,e,u),k(r,t,u),k(r,s,u),k(r,a,u),k(r,n,u)},p(r,u){u&32&&g(e,"visible",r[5][0]),u&32&&g(s,"visible",r[5][1]),u&32&&g(n,"visible",r[5][2])},d(r){r&&(_(e),_(t),_(s),_(a),_(n))}}}function ke(i){let e,l,t,s,f,a;t=new ge({props:{web:i[0],data:i[2]}});let n=!i[0]&&!i[1]&&X(),o=!i[0]&&Y(i);return{c(){e=p("div"),l=p("section"),se(t.$$.fragment),s=E(),n&&n.c(),f=E(),o&&o.c(),this.h()},l(r){e=v(r,"DIV",{style:!0,class:!0});var u=b(e);l=v(u,"SECTION",{class:!0});var c=b(l);ae(t.$$.fragment,c),c.forEach(_),s=I(u),n&&n.l(u),f=I(u),o&&o.l(u),u.forEach(_),this.h()},h(){d(l,"class","mains svelte-1x71rbw"),T(e,"--scale",i[3]),T(e,"--scale-detail",i[4]),d(e,"class","svelte-1x71rbw"),g(e,"drinks",i[1]),g(e,"web",i[0])},m(r,u){k(r,e,u),w(e,l),ne(t,l,null),w(e,s),n&&n.m(e,null),w(e,f),o&&o.m(e,null),a=!0},p(r,[u]){const c={};u&1&&(c.web=r[0]),u&4&&(c.data=r[2]),t.$set(c),!r[0]&&!r[1]?n||(n=X(),n.c(),n.m(e,f)):n&&(n.d(1),n=null),r[0]?o&&(o.d(1),o=null):o?o.p(r,u):(o=Y(r),o.c(),o.m(e,null)),(!a||u&8)&&T(e,"--scale",r[3]),(!a||u&16)&&T(e,"--scale-detail",r[4]),(!a||u&2)&&g(e,"drinks",r[1]),(!a||u&1)&&g(e,"web",r[0])},i(r){a||(ie(t.$$.fragment,r),a=!0)},o(r){re(t.$$.fragment,r),a=!1},d(r){r&&_(e),oe(t),n&&n.d(),o&&o.d()}}}function we(i,e,l){let{web:t}=e,{items:s}=e,{drinks:f}=e,a=[],n=1,o=1,r=[!1,!1,!1],u=[930,3e3,4500];function c(){const h=Math.floor(Math.random()*r.length);l(5,r[h]=!0,r),setTimeout(()=>{l(5,r[h]=!1,r)},u[h])}function m(h){l(2,a=h.filter(y=>y.type==="item"||y.type==="header"||y.type==="note").map(y=>{var S;return{...y,header:y.type==="header",note:y.type==="note",price:(S=y.price)==null?void 0:S.replace(" per person","<span class=per>per person</span>")}}));const q=1-Math.max(0,a.length-8)*.07;l(3,n=t?1:q),l(4,o=t?1:q);const A=R(a.map(y=>y.name.length)),j=R(a.map(y=>{var S;return((S=y.detail)==null?void 0:S.length)||0}));A>20&&l(3,n=Math.min(n,t?.8:20/A)),j>40&&l(4,o=Math.min(o,t?.9:40/j)),l(3,n=Math.max(n,f?.55:.6)),l(4,o=Math.max(o,f?.7:.5))}return i.$$set=h=>{"web"in h&&l(0,t=h.web),"items"in h&&l(6,s=h.items),"drinks"in h&&l(1,f=h.drinks)},i.$$.update=()=>{i.$$.dirty&64&&m(s)},[t,f,a,n,o,r,s,c]}class Me extends ${constructor(e){super(),x(this,e,we,ke,Z,{web:0,items:6,drinks:1,egg:7})}get egg(){return this.$$.ctx[7]}}export{Me as M,Ie as l};
